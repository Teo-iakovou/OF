"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{9360:function(t,e,a){a.d(e,{Z:function(){return Reveal}});var n=a(7437),r=a(2265);function Reveal(t){let{as:e,children:a,className:o="",delay:i=0,once:c=!1,threshold:s=.15,...l}=t,u=e||"div",d=(0,r.useRef)(null),[h,p]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=d.current;if(!t)return;let e=new IntersectionObserver(t=>{let[a]=t;a.isIntersecting?(p(!0),c&&e.disconnect()):c||p(!1)},{threshold:s});return e.observe(t),()=>e.disconnect()},[c,s]),(0,n.jsx)(u,{ref:d,className:"transition-all duration-1000 ease-out will-change-transform ".concat(h?"opacity-100 translate-y-0":"opacity-0 translate-y-6"," ").concat(o),style:{transitionDelay:"".concat(i,"ms")},...l,children:a})}},9219:function(t,e,a){a.d(e,{B:function(){return c},Z:function(){return Packages}});var n=a(7437),r=a(1396),o=a.n(r),i=a(9360);let c=[{id:"lite",title:"Lite",price:"$49",features:["Basic Analytics","5 Uploads/Day","Email Support"],color:"from-blue-400 to-blue-600"},{id:"pro",title:"Pro",price:"$349",features:["Custom AI Insights","Unlimited Uploads","Dedicated 24/7 Support"],color:"from-pink-400 to-pink-600"},{id:"ultimate",title:"Ultimate",price:"$499",features:["Full AI Integration","Unlimited Uploads","Premium Support","Custom Reports"],color:"from-purple-400 to-purple-600"}];function Packages(){return(0,n.jsxs)("section",{id:"packages",className:"py-16 scroll-mt-32",children:[(0,n.jsx)("h2",{className:"text-4xl font-bold text-center mb-8",children:"Choose Your Plan"}),(0,n.jsx)("div",{className:"flex flex-wrap justify-center gap-8",children:c.map((t,e)=>(0,n.jsxs)(i.Z,{as:"div",delay:120*e,className:"relative bg-black bg-opacity-20 p-10 rounded-xl shadow-lg w-80 h-[28rem] transform transition-all",style:{transition:"box-shadow 0.4s ease-in-out, transform 0.4s ease-in-out",border:"4px solid ".concat("lite"===t.id?"rgba(59, 130, 246, 0.5)":"pro"===t.id?"rgba(236, 72, 153, 0.5)":"rgba(168, 85, 247, 0.5)"),cursor:"default"},onMouseEnter:e=>{let a=e.currentTarget;a.style.boxShadow="lite"===t.id?"0 0 20px rgba(59, 130, 246, 0.8)":"pro"===t.id?"0 0 20px rgba(236, 72, 153, 0.8)":"0 0 20px rgba(168, 85, 247, 0.8)",a.style.transform="scale(1.03)"},onMouseLeave:t=>{let e=t.currentTarget;e.style.boxShadow="none",e.style.transform="scale(1)"},children:["pro"===t.id&&(0,n.jsx)("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 bg-pink-700 text-white text-xs px-4 py-1 rounded-md uppercase font-bold shadow-md",children:"Most Popular"}),(0,n.jsx)("h3",{className:"text-3xl font-extrabold text-white text-center mb-4",children:t.title}),(0,n.jsx)("p",{className:"text-5xl font-bold text-white text-center mb-6",children:t.price}),(0,n.jsx)("ul",{className:"text-white text-left space-y-4 mb-8",children:t.features.map((e,a)=>(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 bg-white rounded-full"}),e]},"".concat(t.id,"-").concat(a)))}),(0,n.jsx)(o(),{href:"/".concat(t.id),children:(0,n.jsxs)("button",{className:"block w-full py-3 rounded-lg font-semibold text-white  shadow-md",style:{background:"lite"===t.id?"linear-gradient(to right, #3b82f6, #2563eb)":"pro"===t.id?"linear-gradient(to right, #ec4899, #db2777)":"linear-gradient(to right, #a855f7, #9333ea)",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.background="lite"===t.id?"#1d4ed8":"pro"===t.id?"#be185d":"#7c3aed"},onMouseLeave:e=>{e.currentTarget.style.background="lite"===t.id?"linear-gradient(to right, #3b82f6, #2563eb)":"pro"===t.id?"linear-gradient(to right, #ec4899, #db2777)":"linear-gradient(to right, #a855f7, #9333ea)"},children:["Select ",t.title]})})]},t.id))})]})}},6354:function(t,e,a){a.d(e,{BT:function(){return createEmptyConversation},Do:function(){return purchasePackage},Ii:function(){return deleteAnalysisResult},Kc:function(){return coachChat},Nn:function(){return checkUserPackage},TD:function(){return ttsSynthesize},Um:function(){return fetchConversation},Vv:function(){return startCheckout},fA:function(){return sendFeedback},ku:function(){return fetchConversations},lG:function(){return fetchCoachChatPrompts},mF:function(){return analyzeImageMultipart},mI:function(){return fetchAnalysisHistory},sm:function(){return clearApiCaches},uh:function(){return generateConversationTitle}});var n=a(2205),r=a(2601);async function readJsonOrText(t){let e=await t.text();try{return{ok:t.ok,status:t.status,data:JSON.parse(e)}}catch(a){return{ok:t.ok,status:t.status,data:e}}}function ensureOk(t,e){if(!t.ok){let a="string"==typeof t.data?t.data:JSON.stringify(t.data,null,2);throw Error("".concat(e," failed (").concat(t.status,") - ").concat(a))}return t.data}async function fetchAnalysisHistory(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a="".concat(n._,"/api/analyze?page=").concat(t,"&limit=").concat(e,"&ts=").concat(Date.now()),r=await (0,n.r)(a,{method:"GET",cache:"no-store"});if(!r.ok)throw Error("Fetch analysis history failed");return r.data}async function deleteAnalysisResult(t){let e=await fetch("".concat(n._,"/api/analyze/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}),a=await readJsonOrText(e);return ensureOk(a,"Delete analysis result")}async function startCheckout(t){let e="true"===r.env.NEXT_PUBLIC_USE_BFF,a=e?"/api/checkout/create-checkout-session":"".concat(n._,"/api/checkout/create-checkout-session"),o=await fetch(a,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:t})}),{ok:i,data:c}=await readJsonOrText(o);if(!i)throw Error("string"==typeof c?c:(null==c?void 0:c.error)||"Failed to start checkout");if(!(null==c?void 0:c.url))throw Error("No checkout URL returned");window.location.href=c.url}async function purchasePackage(t){let e="true"===r.env.NEXT_PUBLIC_USE_BFF,a=e?"/api/user/purchase":"".concat(n._,"/api/user/purchase"),o=await fetch(a,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:t})}),i=await readJsonOrText(o);return ensureOk(i,"Purchase package")}async function checkUserPackage(){let t=Date.now();return void 0!==o.value&&t-o.ts<5e3?o.value:(o.inFlight||(o.inFlight=(async()=>{try{let t=await (0,n.r)("".concat(n._,"/api/user/check-package"),{method:"GET",cache:"no-store"});if(!t.ok)throw Error("Check user package failed");let e=t.data;return o.value=e,o.ts=Date.now(),e}catch(t){if("object"==typeof t&&null!==t&&("number"==typeof t.status&&401===t.status||"string"==typeof t.message&&"Unauthorized"===t.message))return{hasAccess:!1};throw t}finally{o.inFlight=null}})()),o.inFlight)}let o={value:void 0,ts:0,inFlight:null};function clearApiCaches(){o.value=void 0,o.ts=0,o.inFlight=null}async function coachChat(t){let{question:e,latestContentInfo:a,conversationId:r,title:o}=t;try{let t=await fetch("".concat(n._,"/api/coach-chat"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({question:e,latestContentInfo:a,conversationId:r,title:o})}),i=await readJsonOrText(t);if(200===t.status)return{status:200,data:i.data};if(402===t.status)return{status:402,data:i.data};if(429===t.status)return{status:429,data:i.data};return{status:t.status,data:i.data}}catch(t){return{status:0,data:{error:"Network error"}}}}async function fetchConversation(t){let e=await fetch("".concat(n._,"/api/conversations/").concat(t),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include",cache:"no-store"}),a=await readJsonOrText(e);return ensureOk(a,"Fetch conversation")}async function createEmptyConversation(){try{var t,e;let a=await fetch("".concat(n._,"/api/conversations"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}),r=await readJsonOrText(a),o=ensureOk(r,"Create conversation");return null!==(e=null!==(t=o._id)&&void 0!==t?t:o.id)&&void 0!==e?e:null}catch(t){return console.error("Error creating new conversation:",t),null}}async function generateConversationTitle(t,e){let a=await fetch("".concat(n._,"/api/conversations/").concat(t,"/generate-title"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({firstUserMessage:e}),cache:"no-store"}),r=await readJsonOrText(a),o=ensureOk(r,"Generate title");return o.title||null}async function fetchConversations(){let t="".concat(n._,"/api/conversations?ts=").concat(Date.now()),e=await (0,n.r)(t,{method:"GET",cache:"no-store"});if(!e.ok)throw Error("Fetch conversations failed");return e.data}async function sendFeedback(t){let e=await fetch("".concat(n._,"/api/feedback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t})}),a=await readJsonOrText(e);if(!a.ok){var r;throw Error("string"==typeof a.data?a.data:(null===(r=a.data)||void 0===r?void 0:r.error)||"Failed to send feedback (".concat(a.status,")"))}return a.data}function analyzeImageMultipart(t){let{file:e,goal:a,linkBase:r,onProgress:o,captions:i=!0,signal:c}=t,s=new FormData;s.append("image",e),a&&s.append("goal",a),r&&s.append("linkBase",r);try{let t=Intl.DateTimeFormat().resolvedOptions().timeZone;t&&s.append("timezone",t)}catch(t){}let l="".concat(n._,"/api/analyze")+(!1===i?"?captions=false":"");return new Promise((t,e)=>{let a=new XMLHttpRequest;a.open("POST",l,!0),a.withCredentials=!0,a.onreadystatechange=()=>{if(4===a.readyState){if(a.status>=200&&a.status<300)try{let e=JSON.parse(a.responseText);t(e)}catch(t){e(Error("Invalid JSON from server."))}else try{let t=JSON.parse(a.responseText);e(Error((null==t?void 0:t.error)||"Upload failed (".concat(a.status,")")))}catch(t){e(Error("Upload failed (".concat(a.status,")")))}}},a.upload&&"function"==typeof o&&(a.upload.onprogress=t=>{t.lengthComputable&&o(Math.round(t.loaded/t.total*100))}),a.onerror=()=>e(Error("Network error"));let n=!1,onAbort=()=>{n=!0;try{a.abort()}catch(t){}e(new DOMException("Aborted","AbortError"))};if(c){if(c.aborted)return onAbort();c.addEventListener("abort",onAbort,{once:!0})}a.send(s);let cleanup=()=>{c&&c.removeEventListener("abort",onAbort)};a.onloadend=()=>{n||cleanup()}})}async function fetchCoachChatPrompts(){let t="".concat(n._,"/api/coach-chat/prompts?ts=").concat(Date.now()),e=await (0,n.r)(t,{method:"GET",cache:"no-store"});if(!e.ok)throw Error("Fetch coach prompts failed");return e.data}async function ttsSynthesize(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URLSearchParams({text:t});return e.voiceId&&a.set("voiceId",e.voiceId),e.format&&a.set("format",e.format),a.set("ts",String(Date.now())),"".concat(n._,"/api/tts?").concat(a.toString())}},2205:function(t,e,a){a.d(e,{_:function(){return r},r:function(){return fetchJson}});var n=a(2601);let r=n.env.NEXT_PUBLIC_API_URL||"http://localhost:5001";async function fetchJson(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="true"===n.env.NEXT_PUBLIC_USE_BFF,o=t;try{if(a&&"string"==typeof t)for(let e of["/api/auth/","/api/checkout/","/api/user/"]){if(t.startsWith(r+e)){o=t.slice(r.length);break}let a=t.indexOf(e);if(t.startsWith("http")&&-1!==a){o=t.slice(a);break}}}catch(t){}let i="true"===n.env.NEXT_PUBLIC_HEADER_AUTH,c=new Headers(e.headers);c.has("content-type")||c.set("Content-Type","application/json");try{if(i){var s;let t=null===(s=window.localStorage)||void 0===s?void 0:s.getItem("ai_token");t&&!c.has("authorization")&&c.set("Authorization","Bearer ".concat(t))}}catch(t){}let l=await fetch(o,{...e,credentials:"include",headers:c}),u=await l.text(),d=null;try{d=u?JSON.parse(u):null}catch(t){d=u}if(401===l.status){let t=Error("Unauthorized");throw t.status=401,t.data=d,t}return{ok:l.ok,status:l.status,data:d}}}}]);