"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/layout",{

/***/ "(app-pages-browser)/./src/app/hooks/useUser.ts":
/*!**********************************!*\
  !*** ./src/app/hooks/useUser.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearUserCache: function() { return /* binding */ clearUserCache; },\n/* harmony export */   notifyAuthChange: function() { return /* binding */ notifyAuthChange; },\n/* harmony export */   useUser: function() { return /* binding */ useUser; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _app_utils_fetcher__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/app/utils/fetcher */ \"(app-pages-browser)/./src/app/utils/fetcher.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/navigation.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_navigation__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ useUser,clearUserCache,notifyAuthChange auto */ \n\n\n// Simple in-memory cache to avoid duplicate /me calls across components\nlet cachedUser = undefined; // undefined = unknown, null = unauthenticated\nlet inFlight = null;\nlet lastFetched = 0;\nconst STALE_TTL_MS = 5000;\nconst AUTH_EVENT = \"ai-auth-changed\";\nasync function fetchUserOnce() {\n    if (inFlight) return inFlight;\n    inFlight = (async ()=>{\n        try {\n            const r = await (0,_app_utils_fetcher__WEBPACK_IMPORTED_MODULE_1__.fetchJson)(\"\".concat(_app_utils_fetcher__WEBPACK_IMPORTED_MODULE_1__.BASE_URL, \"/api/auth/me\"), {\n                method: \"GET\",\n                cache: \"no-store\"\n            });\n            cachedUser = r.ok ? r.data : null;\n        } catch (e) {\n            cachedUser = null;\n        } finally{\n            lastFetched = Date.now();\n            const val = cachedUser !== null && cachedUser !== void 0 ? cachedUser : null;\n            inFlight = null;\n            return val;\n        }\n    })();\n    return inFlight;\n}\nfunction useUser() {\n    let opts = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    const { redirectTo = \"/\", required = true, initialUser } = opts;\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let cancelled = false;\n        function handleAuthChanged() {\n            (async ()=>{\n                try {\n                    const u = await fetchUserOnce();\n                    if (!cancelled) setUser(u);\n                } catch (e) {\n                    if (!cancelled) setUser(null);\n                }\n            })();\n        }\n        if (true) {\n            window.addEventListener(AUTH_EVENT, handleAuthChanged);\n        }\n        (async ()=>{\n            try {\n                // If the server already provided the user, use it immediately when truthy.\n                // If it's explicitly null but a client token exists (testing header auth),\n                // allow a client-side revalidation before redirecting.\n                if (typeof initialUser !== \"undefined\") {\n                    if (initialUser) {\n                        cachedUser = initialUser;\n                        lastFetched = Date.now();\n                        setUser(initialUser);\n                        setLoading(false);\n                        return;\n                    } else if (!initialUser && required) {\n                        // No server user and no client token â†’ redirect now.\n                        router.replace(redirectTo);\n                        setUser(null);\n                        setLoading(false);\n                        return;\n                    }\n                // else: initialUser is null but we have a client token; fall through to fetch\n                }\n                // Serve instantly from cache if fresh; revalidate in background if stale\n                const now = Date.now();\n                const fresh = cachedUser !== undefined && now - lastFetched < STALE_TTL_MS;\n                // For protected pages (required=true), bypass fresh cache to avoid\n                // letting a stale authenticated user slip through after logout.\n                if (fresh && !required) {\n                    setUser(cachedUser !== null && cachedUser !== void 0 ? cachedUser : null);\n                    setLoading(false);\n                    return;\n                }\n                const u = await fetchUserOnce();\n                if (cancelled) return;\n                setUser(u);\n                if (!u && required) router.replace(redirectTo);\n            } catch (e) {\n                if (cancelled) return;\n                setError(e);\n                setUser(null);\n                if (required) router.replace(redirectTo);\n            } finally{\n                if (!cancelled) setLoading(false);\n            }\n        })();\n        return ()=>{\n            cancelled = true;\n        };\n        return ()=>{\n            cancelled = true;\n            if (true) {\n                window.removeEventListener(AUTH_EVENT, handleAuthChanged);\n            }\n        };\n    }, [\n        redirectTo,\n        required,\n        router,\n        initialUser\n    ]);\n    return {\n        user,\n        loading,\n        error,\n        refresh: async ()=>{\n            setLoading(true);\n            try {\n                const u = await fetchUserOnce();\n                setUser(u);\n            } catch (e) {\n                setUser(null);\n                setError(e);\n            } finally{\n                setLoading(false);\n            }\n        }\n    };\n}\n// Allow callers (logout) to reset the in-memory user cache so the app\n// behaves like a fresh visit.\nfunction clearUserCache() {\n    cachedUser = undefined;\n    inFlight = null;\n    lastFetched = 0;\n}\nfunction notifyAuthChange() {\n    try {\n        if (true) {\n            window.dispatchEvent(new Event(AUTH_EVENT));\n        }\n    } catch (e) {}\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvaG9va3MvdXNlVXNlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs2RkFFNEM7QUFDYztBQUNkO0FBSTVDLHdFQUF3RTtBQUN4RSxJQUFJSyxhQUErQkMsV0FBVyw4Q0FBOEM7QUFDNUYsSUFBSUMsV0FBaUM7QUFDckMsSUFBSUMsY0FBYztBQUNsQixNQUFNQyxlQUFlO0FBQ3JCLE1BQU1DLGFBQWE7QUFFbkIsZUFBZUM7SUFDYixJQUFJSixVQUFVLE9BQU9BO0lBQ3JCQSxXQUFXLENBQUM7UUFDVixJQUFJO1lBQ0YsTUFBTUssSUFBSSxNQUFNVCw2REFBU0EsQ0FBQyxHQUFZLE9BQVRELHdEQUFRQSxFQUFDLGlCQUFlO2dCQUFFVyxRQUFRO2dCQUFPQyxPQUFPO1lBQVc7WUFDeEZULGFBQWFPLEVBQUVHLEVBQUUsR0FBSUgsRUFBRUksSUFBSSxHQUFZO1FBQ3pDLEVBQUUsVUFBTTtZQUNOWCxhQUFhO1FBQ2YsU0FBVTtZQUNSRyxjQUFjUyxLQUFLQyxHQUFHO1lBQ3RCLE1BQU1DLE1BQU1kLHVCQUFBQSx3QkFBQUEsYUFBYztZQUMxQkUsV0FBVztZQUNYLE9BQU9ZO1FBQ1Q7SUFDRjtJQUNBLE9BQU9aO0FBQ1Q7QUFFTyxTQUFTYTtRQUFRQyxPQUFBQSxpRUFBd0UsQ0FBQztJQUMvRixNQUFNLEVBQUVDLGFBQWEsR0FBRyxFQUFFQyxXQUFXLElBQUksRUFBRUMsV0FBVyxFQUFFLEdBQUdIO0lBQzNELE1BQU0sQ0FBQ0ksTUFBTUMsUUFBUSxHQUFHekIsK0NBQVFBLENBQU87SUFDdkMsTUFBTSxDQUFDMEIsU0FBU0MsV0FBVyxHQUFHM0IsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDNEIsT0FBT0MsU0FBUyxHQUFHN0IsK0NBQVFBLENBQVU7SUFDNUMsTUFBTThCLFNBQVMzQiwwREFBU0E7SUFFeEJKLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWdDLFlBQVk7UUFDaEIsU0FBU0M7WUFDTjtnQkFDQyxJQUFJO29CQUNGLE1BQU1DLElBQUksTUFBTXZCO29CQUNoQixJQUFJLENBQUNxQixXQUFXTixRQUFRUTtnQkFDMUIsRUFBRSxVQUFNO29CQUNOLElBQUksQ0FBQ0YsV0FBV04sUUFBUTtnQkFDMUI7WUFDRjtRQUNGO1FBQ0EsSUFBSSxJQUE2QixFQUFFO1lBQ2pDUyxPQUFPQyxnQkFBZ0IsQ0FBQzFCLFlBQVl1QjtRQUN0QztRQUNDO1lBQ0MsSUFBSTtnQkFDRiwyRUFBMkU7Z0JBQzNFLDJFQUEyRTtnQkFDM0UsdURBQXVEO2dCQUN2RCxJQUFJLE9BQU9ULGdCQUFnQixhQUFhO29CQUN0QyxJQUFJQSxhQUFhO3dCQUNmbkIsYUFBYW1CO3dCQUNiaEIsY0FBY1MsS0FBS0MsR0FBRzt3QkFDdEJRLFFBQVFGO3dCQUNSSSxXQUFXO3dCQUNYO29CQUNGLE9BQU8sSUFBSSxDQUFDSixlQUFlRCxVQUFVO3dCQUNuQyxxREFBcUQ7d0JBQ3JEUSxPQUFPTSxPQUFPLENBQUNmO3dCQUNmSSxRQUFRO3dCQUNSRSxXQUFXO3dCQUNYO29CQUNGO2dCQUNBLDhFQUE4RTtnQkFDaEY7Z0JBRUEseUVBQXlFO2dCQUN6RSxNQUFNVixNQUFNRCxLQUFLQyxHQUFHO2dCQUNwQixNQUFNb0IsUUFBUWpDLGVBQWVDLGFBQWFZLE1BQU1WLGNBQWNDO2dCQUM5RCxtRUFBbUU7Z0JBQ25FLGdFQUFnRTtnQkFDaEUsSUFBSTZCLFNBQVMsQ0FBQ2YsVUFBVTtvQkFDdEJHLFFBQVFyQix1QkFBQUEsd0JBQUFBLGFBQWM7b0JBQ3RCdUIsV0FBVztvQkFDWDtnQkFDRjtnQkFFQSxNQUFNTSxJQUFJLE1BQU12QjtnQkFDaEIsSUFBSXFCLFdBQVc7Z0JBQ2ZOLFFBQVFRO2dCQUNSLElBQUksQ0FBQ0EsS0FBS1gsVUFBVVEsT0FBT00sT0FBTyxDQUFDZjtZQUNyQyxFQUFFLE9BQU9pQixHQUFHO2dCQUNWLElBQUlQLFdBQVc7Z0JBQ2ZGLFNBQVNTO2dCQUNUYixRQUFRO2dCQUNSLElBQUlILFVBQVVRLE9BQU9NLE9BQU8sQ0FBQ2Y7WUFDL0IsU0FBVTtnQkFDUixJQUFJLENBQUNVLFdBQVdKLFdBQVc7WUFDN0I7UUFDRjtRQUNBLE9BQU87WUFBUUksWUFBWTtRQUFNO1FBQ2pDLE9BQU87WUFDTEEsWUFBWTtZQUNaLElBQUksSUFBNkIsRUFBRTtnQkFDakNHLE9BQU9LLG1CQUFtQixDQUFDOUIsWUFBWXVCO1lBQ3pDO1FBQ0Y7SUFDRixHQUFHO1FBQUNYO1FBQVlDO1FBQVVRO1FBQVFQO0tBQVk7SUFFOUMsT0FBTztRQUFFQztRQUFNRTtRQUFTRTtRQUFPWSxTQUFTO1lBQ3RDYixXQUFXO1lBQ1gsSUFBSTtnQkFDRixNQUFNTSxJQUFJLE1BQU12QjtnQkFDaEJlLFFBQVFRO1lBQ1YsRUFBRSxPQUFPSyxHQUFHO2dCQUNWYixRQUFRO2dCQUNSSSxTQUFTUztZQUNYLFNBQVU7Z0JBQ1JYLFdBQVc7WUFDYjtRQUNGO0lBQUM7QUFDSDtBQUVBLHNFQUFzRTtBQUN0RSw4QkFBOEI7QUFDdkIsU0FBU2M7SUFDZHJDLGFBQWFDO0lBQ2JDLFdBQVc7SUFDWEMsY0FBYztBQUNoQjtBQUVPLFNBQVNtQztJQUNkLElBQUk7UUFDRixJQUFJLElBQTZCLEVBQUU7WUFDakNSLE9BQU9TLGFBQWEsQ0FBQyxJQUFJQyxNQUFNbkM7UUFDakM7SUFDRixFQUFFLFVBQU0sQ0FBQztBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvaG9va3MvdXNlVXNlci50cz8xNDdhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCQVNFX1VSTCwgZmV0Y2hKc29uIH0gZnJvbSBcIkAvYXBwL3V0aWxzL2ZldGNoZXJcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcblxudHlwZSBVc2VyID0geyBpZDogc3RyaW5nOyBlbWFpbDogc3RyaW5nOyBwbGFuPzogc3RyaW5nIHwgbnVsbCB9IHwgbnVsbDtcblxuLy8gU2ltcGxlIGluLW1lbW9yeSBjYWNoZSB0byBhdm9pZCBkdXBsaWNhdGUgL21lIGNhbGxzIGFjcm9zcyBjb21wb25lbnRzXG5sZXQgY2FjaGVkVXNlcjogVXNlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDsgLy8gdW5kZWZpbmVkID0gdW5rbm93biwgbnVsbCA9IHVuYXV0aGVudGljYXRlZFxubGV0IGluRmxpZ2h0OiBQcm9taXNlPFVzZXI+IHwgbnVsbCA9IG51bGw7XG5sZXQgbGFzdEZldGNoZWQgPSAwO1xuY29uc3QgU1RBTEVfVFRMX01TID0gNTAwMDtcbmNvbnN0IEFVVEhfRVZFTlQgPSBcImFpLWF1dGgtY2hhbmdlZFwiO1xuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFVzZXJPbmNlKCk6IFByb21pc2U8VXNlcj4ge1xuICBpZiAoaW5GbGlnaHQpIHJldHVybiBpbkZsaWdodDtcbiAgaW5GbGlnaHQgPSAoYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByID0gYXdhaXQgZmV0Y2hKc29uKGAke0JBU0VfVVJMfS9hcGkvYXV0aC9tZWAsIHsgbWV0aG9kOiBcIkdFVFwiLCBjYWNoZTogXCJuby1zdG9yZVwiIH0pO1xuICAgICAgY2FjaGVkVXNlciA9IHIub2sgPyAoci5kYXRhIGFzIFVzZXIpIDogbnVsbDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIGNhY2hlZFVzZXIgPSBudWxsO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsYXN0RmV0Y2hlZCA9IERhdGUubm93KCk7XG4gICAgICBjb25zdCB2YWwgPSBjYWNoZWRVc2VyID8/IG51bGw7XG4gICAgICBpbkZsaWdodCA9IG51bGw7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgfSkoKTtcbiAgcmV0dXJuIGluRmxpZ2h0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVXNlcihvcHRzOiB7IHJlZGlyZWN0VG8/OiBzdHJpbmc7IHJlcXVpcmVkPzogYm9vbGVhbjsgaW5pdGlhbFVzZXI/OiBVc2VyIH0gPSB7fSkge1xuICBjb25zdCB7IHJlZGlyZWN0VG8gPSBcIi9cIiwgcmVxdWlyZWQgPSB0cnVlLCBpbml0aWFsVXNlciB9ID0gb3B0cztcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlcj4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHVua25vd24+KG51bGwpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVBdXRoQ2hhbmdlZCgpIHtcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdSA9IGF3YWl0IGZldGNoVXNlck9uY2UoKTtcbiAgICAgICAgICBpZiAoIWNhbmNlbGxlZCkgc2V0VXNlcih1KTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHNldFVzZXIobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihBVVRIX0VWRU5ULCBoYW5kbGVBdXRoQ2hhbmdlZCk7XG4gICAgfVxuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBJZiB0aGUgc2VydmVyIGFscmVhZHkgcHJvdmlkZWQgdGhlIHVzZXIsIHVzZSBpdCBpbW1lZGlhdGVseSB3aGVuIHRydXRoeS5cbiAgICAgICAgLy8gSWYgaXQncyBleHBsaWNpdGx5IG51bGwgYnV0IGEgY2xpZW50IHRva2VuIGV4aXN0cyAodGVzdGluZyBoZWFkZXIgYXV0aCksXG4gICAgICAgIC8vIGFsbG93IGEgY2xpZW50LXNpZGUgcmV2YWxpZGF0aW9uIGJlZm9yZSByZWRpcmVjdGluZy5cbiAgICAgICAgaWYgKHR5cGVvZiBpbml0aWFsVXNlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGlmIChpbml0aWFsVXNlcikge1xuICAgICAgICAgICAgY2FjaGVkVXNlciA9IGluaXRpYWxVc2VyO1xuICAgICAgICAgICAgbGFzdEZldGNoZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgc2V0VXNlcihpbml0aWFsVXNlcik7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpbml0aWFsVXNlciAmJiByZXF1aXJlZCkge1xuICAgICAgICAgICAgLy8gTm8gc2VydmVyIHVzZXIgYW5kIG5vIGNsaWVudCB0b2tlbiDihpIgcmVkaXJlY3Qgbm93LlxuICAgICAgICAgICAgcm91dGVyLnJlcGxhY2UocmVkaXJlY3RUbyk7XG4gICAgICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGVsc2U6IGluaXRpYWxVc2VyIGlzIG51bGwgYnV0IHdlIGhhdmUgYSBjbGllbnQgdG9rZW47IGZhbGwgdGhyb3VnaCB0byBmZXRjaFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VydmUgaW5zdGFudGx5IGZyb20gY2FjaGUgaWYgZnJlc2g7IHJldmFsaWRhdGUgaW4gYmFja2dyb3VuZCBpZiBzdGFsZVxuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBmcmVzaCA9IGNhY2hlZFVzZXIgIT09IHVuZGVmaW5lZCAmJiBub3cgLSBsYXN0RmV0Y2hlZCA8IFNUQUxFX1RUTF9NUztcbiAgICAgICAgLy8gRm9yIHByb3RlY3RlZCBwYWdlcyAocmVxdWlyZWQ9dHJ1ZSksIGJ5cGFzcyBmcmVzaCBjYWNoZSB0byBhdm9pZFxuICAgICAgICAvLyBsZXR0aW5nIGEgc3RhbGUgYXV0aGVudGljYXRlZCB1c2VyIHNsaXAgdGhyb3VnaCBhZnRlciBsb2dvdXQuXG4gICAgICAgIGlmIChmcmVzaCAmJiAhcmVxdWlyZWQpIHtcbiAgICAgICAgICBzZXRVc2VyKGNhY2hlZFVzZXIgPz8gbnVsbCk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdSA9IGF3YWl0IGZldGNoVXNlck9uY2UoKTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkgcmV0dXJuO1xuICAgICAgICBzZXRVc2VyKHUpO1xuICAgICAgICBpZiAoIXUgJiYgcmVxdWlyZWQpIHJvdXRlci5yZXBsYWNlKHJlZGlyZWN0VG8pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XG4gICAgICAgIHNldEVycm9yKGUpO1xuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICBpZiAocmVxdWlyZWQpIHJvdXRlci5yZXBsYWNlKHJlZGlyZWN0VG8pO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuICgpID0+IHsgY2FuY2VsbGVkID0gdHJ1ZTsgfTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKEFVVEhfRVZFTlQsIGhhbmRsZUF1dGhDaGFuZ2VkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcmVkaXJlY3RUbywgcmVxdWlyZWQsIHJvdXRlciwgaW5pdGlhbFVzZXJdKTtcblxuICByZXR1cm4geyB1c2VyLCBsb2FkaW5nLCBlcnJvciwgcmVmcmVzaDogYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHUgPSBhd2FpdCBmZXRjaFVzZXJPbmNlKCk7XG4gICAgICBzZXRVc2VyKHUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgICBzZXRFcnJvcihlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9fTtcbn1cblxuLy8gQWxsb3cgY2FsbGVycyAobG9nb3V0KSB0byByZXNldCB0aGUgaW4tbWVtb3J5IHVzZXIgY2FjaGUgc28gdGhlIGFwcFxuLy8gYmVoYXZlcyBsaWtlIGEgZnJlc2ggdmlzaXQuXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJVc2VyQ2FjaGUoKSB7XG4gIGNhY2hlZFVzZXIgPSB1bmRlZmluZWQ7XG4gIGluRmxpZ2h0ID0gbnVsbDtcbiAgbGFzdEZldGNoZWQgPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm90aWZ5QXV0aENoYW5nZSgpIHtcbiAgdHJ5IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KEFVVEhfRVZFTlQpKTtcbiAgICB9XG4gIH0gY2F0Y2gge31cbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkJBU0VfVVJMIiwiZmV0Y2hKc29uIiwidXNlUm91dGVyIiwiY2FjaGVkVXNlciIsInVuZGVmaW5lZCIsImluRmxpZ2h0IiwibGFzdEZldGNoZWQiLCJTVEFMRV9UVExfTVMiLCJBVVRIX0VWRU5UIiwiZmV0Y2hVc2VyT25jZSIsInIiLCJtZXRob2QiLCJjYWNoZSIsIm9rIiwiZGF0YSIsIkRhdGUiLCJub3ciLCJ2YWwiLCJ1c2VVc2VyIiwib3B0cyIsInJlZGlyZWN0VG8iLCJyZXF1aXJlZCIsImluaXRpYWxVc2VyIiwidXNlciIsInNldFVzZXIiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJyb3V0ZXIiLCJjYW5jZWxsZWQiLCJoYW5kbGVBdXRoQ2hhbmdlZCIsInUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVwbGFjZSIsImZyZXNoIiwiZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWZyZXNoIiwiY2xlYXJVc2VyQ2FjaGUiLCJub3RpZnlBdXRoQ2hhbmdlIiwiZGlzcGF0Y2hFdmVudCIsIkV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/hooks/useUser.ts\n"));

/***/ })

});