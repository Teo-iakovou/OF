(()=>{var e={};e.id=813,e.ids=[813],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71504:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=t(67096),r=t(16132),n=t(37284),o=t.n(n),i=t(32564),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let c=["",{children:["dashboard",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1109)),"/Users/theodorosiakovou/Projects/ai-platform/src/app/dashboard/account/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,92551)),"/Users/theodorosiakovou/Projects/ai-platform/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,79113)),"/Users/theodorosiakovou/Projects/ai-platform/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/theodorosiakovou/Projects/ai-platform/src/app/dashboard/account/page.tsx"],p="/dashboard/account/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/account/page",pathname:"/dashboard/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},35120:(e,s,t)=>{Promise.resolve().then(t.bind(t,96859))},12091:(e,s,t)=>{"use strict";t.d(s,{O:()=>Skeleton});var a=t(30784);function Skeleton({className:e=""}){return a.jsx("div",{className:["animate-pulse rounded-md bg-gray-200/20 dark:bg-gray-700/40",e].join(" "),"aria-hidden":!0})}t(9885)},96859:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AccountAndBillingPage});var a=t(30784),r=t(9885),n=t(57114),o=t(4790),i=t(67997),l=t(978),c=t(12091),d=t(24206),p=t(2955),u=t(48287);function AccountAndBillingPage(){let{user:e,loading:s}=(0,o.a)({required:!1}),{setCartItems:t}=(0,i.j)(),[x,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(!0),j=(0,n.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,d.Nn)();e?.hasAccess?m({name:e.package??"Unknown",uploadsRemaining:e.uploadsRemaining??0,expiresAt:e.expiresAt}):m(null)}catch(e){console.error("Error loading user package:",e),m(null)}finally{g(!1)}})()},[]);let handleLogout=async()=>{try{let e="true"===process.env.NEXT_PUBLIC_USE_BFF,s=e?"/api/auth/logout":`${l._}/api/auth/logout`;await fetch(s,{method:"POST",credentials:"include"})}catch{}try{(0,o.U)()}catch{}try{(0,d.sm)()}catch{}try{t([])}catch{}try{localStorage.removeItem("ai_token")}catch{}try{sessionStorage.removeItem("justLoggedIn")}catch{}j.replace("/")};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col text-white",children:[a.jsx("header",{className:"shrink-0 pt-12 md:pt-20 px-6 md:px-12 lg:px-20 max-w-6xl mx-auto w-full",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-3xl md:text-4xl font-semibold tracking-tight",children:"Account & Billing"})})}),a.jsx("main",{className:"px-6 md:px-12 lg:px-20",children:a.jsx("div",{className:"max-w-6xl mx-auto pb-8",children:h?a.jsx("div",{className:"py-10 grid place-items-center",children:a.jsx(p.default,{})}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(u.Z,{as:"section",className:"bg-gray-900 border border-gray-700 rounded-2xl p-6 md:p-8 shadow-md space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Account"}),s?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.O,{className:"h-5 w-56"}),a.jsx("div",{className:"pt-2",children:a.jsx(c.O,{className:"h-9 w-28"})})]}):e?.email?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Email:"})," ",e.email]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{className:"px-4 py-2 rounded-lg bg-cyan-600 hover:bg-cyan-700 text-white font-medium transition",onClick:handleLogout,children:"Log Out"})})]}):a.jsx("p",{className:"text-gray-400",children:"Not signed in."})]}),(0,a.jsxs)(u.Z,{as:"section",className:"bg-gray-900 border border-gray-700 rounded-2xl p-6 md:p-8 shadow-md space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Plan"}),x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Current Plan:"})," ",x.name]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Uploads Remaining:"})," ",x.uploadsRemaining]}),x.expiresAt&&(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"Expires:"})," ",new Date(x.expiresAt).toLocaleDateString()]})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{onClick:()=>j.push("/#packages"),className:"inline-flex items-center justify-center rounded-lg px-4 py-2 bg-cyan-600 hover:bg-cyan-700 transition text-white font-medium",children:"Upgrade Plan"})})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-red-400",children:"No active plan found."}),a.jsx("button",{onClick:()=>j.push("/#packages"),className:"inline-flex items-center justify-center rounded-lg px-4 py-2 bg-cyan-600 hover:bg-cyan-700 transition text-white font-medium",children:"View Plans"})]})]})]})})})]})}},1109:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var a=t(95153);let r=(0,a.createProxy)(String.raw`/Users/theodorosiakovou/Projects/ai-platform/src/app/dashboard/account/page.tsx`),{__esModule:n,$$typeof:o}=r,i=r.default,l=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[2006,580,2767,3945,5892],()=>__webpack_exec__(71504));module.exports=t})();