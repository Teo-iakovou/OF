"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/sadtalker/history/route";
exports.ids = ["app/api/sadtalker/history/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fhistory%2Froute&page=%2Fapi%2Fsadtalker%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fhistory%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fhistory%2Froute&page=%2Fapi%2Fsadtalker%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fhistory%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_theodorosiakovou_Projects_ai_platform_src_app_api_sadtalker_history_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/sadtalker/history/route.ts */ \"(rsc)/./src/app/api/sadtalker/history/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/sadtalker/history/route\",\n        pathname: \"/api/sadtalker/history\",\n        filename: \"route\",\n        bundlePath: \"app/api/sadtalker/history/route\"\n    },\n    resolvedPagePath: \"/Users/theodorosiakovou/Projects/ai-platform/src/app/api/sadtalker/history/route.ts\",\n    nextConfigOutput,\n    userland: _Users_theodorosiakovou_Projects_ai_platform_src_app_api_sadtalker_history_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/sadtalker/history/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzYWR0YWxrZXIlMkZoaXN0b3J5JTJGcm91dGUmcGFnZT0lMkZhcGklMkZzYWR0YWxrZXIlMkZoaXN0b3J5JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGc2FkdGFsa2VyJTJGaGlzdG9yeSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRoZW9kb3Jvc2lha292b3UlMkZQcm9qZWN0cyUyRmFpLXBsYXRmb3JtJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRoZW9kb3Jvc2lha292b3UlMkZQcm9qZWN0cyUyRmFpLXBsYXRmb3JtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ3NEO0FBQ3ZDO0FBQ2lEO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ2lKOztBQUVqSiIsInNvdXJjZXMiOlsid2VicGFjazovL29ubHlmYW5zLXBsYXRmb3JtLz8zNjRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIm5leHQvZGlzdC9zZXJ2ZXIvbm9kZS1wb2x5ZmlsbC1oZWFkZXJzXCI7XG5pbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdGhlb2Rvcm9zaWFrb3ZvdS9Qcm9qZWN0cy9haS1wbGF0Zm9ybS9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvaGlzdG9yeS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2FkdGFsa2VyL2hpc3Rvcnkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zYWR0YWxrZXIvaGlzdG9yeVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2FkdGFsa2VyL2hpc3Rvcnkvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdGhlb2Rvcm9zaWFrb3ZvdS9Qcm9qZWN0cy9haS1wbGF0Zm9ybS9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvaGlzdG9yeS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zYWR0YWxrZXIvaGlzdG9yeS9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fhistory%2Froute&page=%2Fapi%2Fsadtalker%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fhistory%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/_lib/config.ts":
/*!**********************************************!*\
  !*** ./src/app/api/sadtalker/_lib/config.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sadTalkerConfig: () => (/* binding */ sadTalkerConfig)\n/* harmony export */ });\nfunction requireEnv(name) {\n    const value = process.env[name];\n    if (!value) {\n        throw new Error(`[sadtalker-config] Missing required env var ${name}`);\n    }\n    return value;\n}\nconst sadTalkerConfig = {\n    redisUrl: requireEnv(\"SADTALKER_REDIS_URL\"),\n    storageProvider: (process.env.SADTALKER_STORAGE_PROVIDER || \"\").toLowerCase() || undefined,\n    r2Bucket: process.env.SADTALKER_R2_BUCKET,\n    r2AccountId: process.env.SADTALKER_R2_ACCOUNT_ID,\n    r2AccessKeyId: process.env.SADTALKER_R2_ACCESS_KEY_ID,\n    r2SecretAccessKey: process.env.SADTALKER_R2_SECRET_ACCESS_KEY,\n    supabaseUrl: process.env.SUPABASE_URL,\n    supabaseKey: process.env.SUPABASE_SERVICE_KEY,\n    supabaseBucket: process.env.SUPABASE_BUCKET || \"sadtalker\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvX2xpYi9jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBLFNBQVNBLFdBQVdDLElBQWlCO0lBQ25DLE1BQU1DLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0gsS0FBSztJQUMvQixJQUFJLENBQUNDLE9BQU87UUFDVixNQUFNLElBQUlHLE1BQU0sQ0FBQyw0Q0FBNEMsRUFBRUosS0FBSyxDQUFDO0lBQ3ZFO0lBQ0EsT0FBT0M7QUFDVDtBQUVPLE1BQU1JLGtCQUFrQjtJQUM3QkMsVUFBVVAsV0FBVztJQUNyQlEsaUJBQWlCLENBQUNMLFFBQVFDLEdBQUcsQ0FBQ0ssMEJBQTBCLElBQUksRUFBQyxFQUFHQyxXQUFXLE1BQU1DO0lBQ2pGQyxVQUFVVCxRQUFRQyxHQUFHLENBQUNTLG1CQUFtQjtJQUN6Q0MsYUFBYVgsUUFBUUMsR0FBRyxDQUFDVyx1QkFBdUI7SUFDaERDLGVBQWViLFFBQVFDLEdBQUcsQ0FBQ2EsMEJBQTBCO0lBQ3JEQyxtQkFBbUJmLFFBQVFDLEdBQUcsQ0FBQ2UsOEJBQThCO0lBQzdEQyxhQUFhakIsUUFBUUMsR0FBRyxDQUFDaUIsWUFBWTtJQUNyQ0MsYUFBYW5CLFFBQVFDLEdBQUcsQ0FBQ21CLG9CQUFvQjtJQUM3Q0MsZ0JBQWdCckIsUUFBUUMsR0FBRyxDQUFDcUIsZUFBZSxJQUFJO0FBQ2pELEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbmx5ZmFucy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL3NhZHRhbGtlci9fbGliL2NvbmZpZy50cz8xMTYzIl0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgUmVxdWlyZWRFbnYgPSBcIlNBRFRBTEtFUl9SRURJU19VUkxcIjtcblxuZnVuY3Rpb24gcmVxdWlyZUVudihuYW1lOiBSZXF1aXJlZEVudik6IHN0cmluZyB7XG4gIGNvbnN0IHZhbHVlID0gcHJvY2Vzcy5lbnZbbmFtZV07XG4gIGlmICghdmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFtzYWR0YWxrZXItY29uZmlnXSBNaXNzaW5nIHJlcXVpcmVkIGVudiB2YXIgJHtuYW1lfWApO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGNvbnN0IHNhZFRhbGtlckNvbmZpZyA9IHtcbiAgcmVkaXNVcmw6IHJlcXVpcmVFbnYoXCJTQURUQUxLRVJfUkVESVNfVVJMXCIpLFxuICBzdG9yYWdlUHJvdmlkZXI6IChwcm9jZXNzLmVudi5TQURUQUxLRVJfU1RPUkFHRV9QUk9WSURFUiB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpIHx8IHVuZGVmaW5lZCxcbiAgcjJCdWNrZXQ6IHByb2Nlc3MuZW52LlNBRFRBTEtFUl9SMl9CVUNLRVQsXG4gIHIyQWNjb3VudElkOiBwcm9jZXNzLmVudi5TQURUQUxLRVJfUjJfQUNDT1VOVF9JRCxcbiAgcjJBY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuU0FEVEFMS0VSX1IyX0FDQ0VTU19LRVlfSUQsXG4gIHIyU2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5TQURUQUxLRVJfUjJfU0VDUkVUX0FDQ0VTU19LRVksXG4gIHN1cGFiYXNlVXJsOiBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwsXG4gIHN1cGFiYXNlS2V5OiBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX0tFWSxcbiAgc3VwYWJhc2VCdWNrZXQ6IHByb2Nlc3MuZW52LlNVUEFCQVNFX0JVQ0tFVCB8fCBcInNhZHRhbGtlclwiLFxufTtcblxuZXhwb3J0IHR5cGUgU2FkVGFsa2VyQ29uZmlnID0gdHlwZW9mIHNhZFRhbGtlckNvbmZpZztcbiJdLCJuYW1lcyI6WyJyZXF1aXJlRW52IiwibmFtZSIsInZhbHVlIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwic2FkVGFsa2VyQ29uZmlnIiwicmVkaXNVcmwiLCJzdG9yYWdlUHJvdmlkZXIiLCJTQURUQUxLRVJfU1RPUkFHRV9QUk9WSURFUiIsInRvTG93ZXJDYXNlIiwidW5kZWZpbmVkIiwicjJCdWNrZXQiLCJTQURUQUxLRVJfUjJfQlVDS0VUIiwicjJBY2NvdW50SWQiLCJTQURUQUxLRVJfUjJfQUNDT1VOVF9JRCIsInIyQWNjZXNzS2V5SWQiLCJTQURUQUxLRVJfUjJfQUNDRVNTX0tFWV9JRCIsInIyU2VjcmV0QWNjZXNzS2V5IiwiU0FEVEFMS0VSX1IyX1NFQ1JFVF9BQ0NFU1NfS0VZIiwic3VwYWJhc2VVcmwiLCJTVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfS0VZIiwic3VwYWJhc2VCdWNrZXQiLCJTVVBBQkFTRV9CVUNLRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/_lib/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/_lib/redis.ts":
/*!*********************************************!*\
  !*** ./src/app/api/sadtalker/_lib/redis.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRedis: () => (/* binding */ getRedis)\n/* harmony export */ });\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ioredis */ \"(rsc)/./node_modules/ioredis/built/index.js\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ioredis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"(rsc)/./src/app/api/sadtalker/_lib/config.ts\");\n\n\nfunction getRedis() {\n    if (!global.__sadtalkerRedisClient) {\n        global.__sadtalkerRedisClient = new (ioredis__WEBPACK_IMPORTED_MODULE_0___default())(_config__WEBPACK_IMPORTED_MODULE_1__.sadTalkerConfig.redisUrl, {\n            maxRetriesPerRequest: null,\n            enableReadyCheck: true\n        });\n    }\n    return global.__sadtalkerRedisClient;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvX2xpYi9yZWRpcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRCO0FBRWU7QUFPcEMsU0FBU0U7SUFDZCxJQUFJLENBQUNDLE9BQU9DLHNCQUFzQixFQUFFO1FBQ2xDRCxPQUFPQyxzQkFBc0IsR0FBRyxJQUFJSixnREFBS0EsQ0FBQ0Msb0RBQWVBLENBQUNJLFFBQVEsRUFBRTtZQUNsRUMsc0JBQXNCO1lBQ3RCQyxrQkFBa0I7UUFDcEI7SUFDRjtJQUNBLE9BQU9KLE9BQU9DLHNCQUFzQjtBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL29ubHlmYW5zLXBsYXRmb3JtLy4vc3JjL2FwcC9hcGkvc2FkdGFsa2VyL19saWIvcmVkaXMudHM/MTlmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVkaXMgZnJvbSBcImlvcmVkaXNcIjtcblxuaW1wb3J0IHsgc2FkVGFsa2VyQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgX19zYWR0YWxrZXJSZWRpc0NsaWVudDogUmVkaXMgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWRpcygpOiBSZWRpcyB7XG4gIGlmICghZ2xvYmFsLl9fc2FkdGFsa2VyUmVkaXNDbGllbnQpIHtcbiAgICBnbG9iYWwuX19zYWR0YWxrZXJSZWRpc0NsaWVudCA9IG5ldyBSZWRpcyhzYWRUYWxrZXJDb25maWcucmVkaXNVcmwsIHtcbiAgICAgIG1heFJldHJpZXNQZXJSZXF1ZXN0OiBudWxsLFxuICAgICAgZW5hYmxlUmVhZHlDaGVjazogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsLl9fc2FkdGFsa2VyUmVkaXNDbGllbnQ7XG59XG4iXSwibmFtZXMiOlsiUmVkaXMiLCJzYWRUYWxrZXJDb25maWciLCJnZXRSZWRpcyIsImdsb2JhbCIsIl9fc2FkdGFsa2VyUmVkaXNDbGllbnQiLCJyZWRpc1VybCIsIm1heFJldHJpZXNQZXJSZXF1ZXN0IiwiZW5hYmxlUmVhZHlDaGVjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/_lib/redis.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/history/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/sadtalker/history/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_redis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_lib/redis */ \"(rsc)/./src/app/api/sadtalker/_lib/redis.ts\");\n\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nconst HISTORY_LIMIT = Number(process.env.SADTALKER_HISTORY_LIMIT || 50);\nconst SERVER_BASE_URL = process.env.API_URL || process.env.NEXT_PUBLIC_API_URL || \"http://localhost:5001\";\nconst SESSION_COOKIE_NAME = process.env.SESSION_COOKIE_NAME || \"ai_session\";\nasync function getCurrentUserId(req) {\n    const token = req.cookies.get(SESSION_COOKIE_NAME)?.value;\n    if (!token) return null;\n    const headers = {\n        cookie: `${SESSION_COOKIE_NAME}=${token}`\n    };\n    try {\n        const resp = await fetch(`${SERVER_BASE_URL}/api/auth/me`, {\n            method: \"GET\",\n            headers,\n            cache: \"no-store\"\n        });\n        if (!resp.ok) return null;\n        const text = await resp.text();\n        let data;\n        try {\n            data = text ? JSON.parse(text) : null;\n        } catch  {\n            data = null;\n        }\n        const id = typeof data?.id === \"string\" ? data.id.trim() : \"\";\n        return id || null;\n    } catch (err) {\n        console.error(\"[sadtalker:history] auth lookup failed\", err);\n        return null;\n    }\n}\nasync function GET(req) {\n    try {\n        const userId = await getCurrentUserId(req);\n        if (!userId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const redis = (0,_lib_redis__WEBPACK_IMPORTED_MODULE_1__.getRedis)();\n        const key = `sadtalker:history:${userId}`;\n        const rows = await redis.lrange(key, 0, HISTORY_LIMIT - 1);\n        const items = rows.map((row)=>{\n            try {\n                return JSON.parse(row);\n            } catch (err) {\n                console.warn(\"[sadtalker:history] failed to parse row\", err);\n                return null;\n            }\n        }).filter((item)=>!!item);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            items\n        });\n    } catch (err) {\n        console.error(\"[sadtalker:history] error\", err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to load SadTalker history\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(req) {\n    try {\n        const userId = await getCurrentUserId(req);\n        if (!userId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await req.json().catch(()=>null);\n        const jobId = typeof body?.jobId === \"string\" ? body.jobId.trim() : \"\";\n        if (!jobId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"jobId is required\"\n            }, {\n                status: 400\n            });\n        }\n        const redis = (0,_lib_redis__WEBPACK_IMPORTED_MODULE_1__.getRedis)();\n        const key = `sadtalker:history:${userId}`;\n        const rows = await redis.lrange(key, 0, -1);\n        let removed = false;\n        for (const row of rows){\n            try {\n                const parsed = JSON.parse(row);\n                if (parsed?.jobId === jobId) {\n                    await redis.lrem(key, 1, row);\n                    removed = true;\n                    break;\n                }\n            } catch  {\n            // ignore malformed rows\n            }\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            removed\n        });\n    } catch (err) {\n        console.error(\"[sadtalker:history:delete] error\", err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to delete history item\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvaGlzdG9yeS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0Q7QUFFZjtBQUVsQyxNQUFNRSxVQUFVLFNBQVM7QUFDekIsTUFBTUMsVUFBVSxnQkFBZ0I7QUFFdkMsTUFBTUMsZ0JBQWdCQyxPQUFPQyxRQUFRQyxHQUFHLENBQUNDLHVCQUF1QixJQUFJO0FBQ3BFLE1BQU1DLGtCQUFrQkgsUUFBUUMsR0FBRyxDQUFDRyxPQUFPLElBQUlKLFFBQVFDLEdBQUcsQ0FBQ0ksbUJBQW1CLElBQUk7QUFDbEYsTUFBTUMsc0JBQXNCTixRQUFRQyxHQUFHLENBQUNLLG1CQUFtQixJQUFJO0FBRS9ELGVBQWVDLGlCQUFpQkMsR0FBZ0I7SUFDOUMsTUFBTUMsUUFBUUQsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUNMLHNCQUFzQk07SUFDcEQsSUFBSSxDQUFDSCxPQUFPLE9BQU87SUFFbkIsTUFBTUksVUFBa0M7UUFBRUMsUUFBUSxDQUFDLEVBQUVSLG9CQUFvQixDQUFDLEVBQUVHLE1BQU0sQ0FBQztJQUFDO0lBRXBGLElBQUk7UUFDRixNQUFNTSxPQUFPLE1BQU1DLE1BQU0sQ0FBQyxFQUFFYixnQkFBZ0IsWUFBWSxDQUFDLEVBQUU7WUFDekRjLFFBQVE7WUFDUko7WUFDQUssT0FBTztRQUNUO1FBQ0EsSUFBSSxDQUFDSCxLQUFLSSxFQUFFLEVBQUUsT0FBTztRQUNyQixNQUFNQyxPQUFPLE1BQU1MLEtBQUtLLElBQUk7UUFDNUIsSUFBSUM7UUFDSixJQUFJO1lBQ0ZBLE9BQU9ELE9BQU9FLEtBQUtDLEtBQUssQ0FBQ0gsUUFBUTtRQUNuQyxFQUFFLE9BQU07WUFDTkMsT0FBTztRQUNUO1FBQ0EsTUFBTUcsS0FBSyxPQUFPSCxNQUFNRyxPQUFPLFdBQVdILEtBQUtHLEVBQUUsQ0FBQ0MsSUFBSSxLQUFLO1FBQzNELE9BQU9ELE1BQU07SUFDZixFQUFFLE9BQU9FLEtBQUs7UUFDWkMsUUFBUUMsS0FBSyxDQUFDLDBDQUEwQ0Y7UUFDeEQsT0FBTztJQUNUO0FBQ0Y7QUFFTyxlQUFlRyxJQUFJckIsR0FBZ0I7SUFDeEMsSUFBSTtRQUNGLE1BQU1zQixTQUFTLE1BQU12QixpQkFBaUJDO1FBQ3RDLElBQUksQ0FBQ3NCLFFBQVE7WUFDWCxPQUFPcEMsa0ZBQVlBLENBQUNxQyxJQUFJLENBQUM7Z0JBQUVILE9BQU87WUFBZSxHQUFHO2dCQUFFSSxRQUFRO1lBQUk7UUFDcEU7UUFFQSxNQUFNQyxRQUFRdEMsb0RBQVFBO1FBQ3RCLE1BQU11QyxNQUFNLENBQUMsa0JBQWtCLEVBQUVKLE9BQU8sQ0FBQztRQUN6QyxNQUFNSyxPQUFPLE1BQU1GLE1BQU1HLE1BQU0sQ0FBQ0YsS0FBSyxHQUFHcEMsZ0JBQWdCO1FBQ3hELE1BQU11QyxRQUFRRixLQUNYRyxHQUFHLENBQUMsQ0FBQ0M7WUFDSixJQUFJO2dCQUNGLE9BQU9qQixLQUFLQyxLQUFLLENBQUNnQjtZQUNwQixFQUFFLE9BQU9iLEtBQUs7Z0JBQ1pDLFFBQVFhLElBQUksQ0FBQywyQ0FBMkNkO2dCQUN4RCxPQUFPO1lBQ1Q7UUFDRixHQUNDZSxNQUFNLENBQUMsQ0FBQ0MsT0FBMEMsQ0FBQyxDQUFDQTtRQUV2RCxPQUFPaEQsa0ZBQVlBLENBQUNxQyxJQUFJLENBQUM7WUFBRU07UUFBTTtJQUNuQyxFQUFFLE9BQU9YLEtBQUs7UUFDWkMsUUFBUUMsS0FBSyxDQUFDLDZCQUE2QkY7UUFDM0MsT0FBT2hDLGtGQUFZQSxDQUFDcUMsSUFBSSxDQUFDO1lBQUVILE9BQU87UUFBbUMsR0FBRztZQUFFSSxRQUFRO1FBQUk7SUFDeEY7QUFDRjtBQUVPLGVBQWVXLE9BQU9uQyxHQUFnQjtJQUMzQyxJQUFJO1FBQ0YsTUFBTXNCLFNBQVMsTUFBTXZCLGlCQUFpQkM7UUFDdEMsSUFBSSxDQUFDc0IsUUFBUTtZQUNYLE9BQU9wQyxrRkFBWUEsQ0FBQ3FDLElBQUksQ0FBQztnQkFBRUgsT0FBTztZQUFlLEdBQUc7Z0JBQUVJLFFBQVE7WUFBSTtRQUNwRTtRQUVBLE1BQU1ZLE9BQU8sTUFBTXBDLElBQUl1QixJQUFJLEdBQUdjLEtBQUssQ0FBQyxJQUFNO1FBQzFDLE1BQU1DLFFBQVEsT0FBT0YsTUFBTUUsVUFBVSxXQUFXRixLQUFLRSxLQUFLLENBQUNyQixJQUFJLEtBQUs7UUFDcEUsSUFBSSxDQUFDcUIsT0FBTztZQUNWLE9BQU9wRCxrRkFBWUEsQ0FBQ3FDLElBQUksQ0FBQztnQkFBRUgsT0FBTztZQUFvQixHQUFHO2dCQUFFSSxRQUFRO1lBQUk7UUFDekU7UUFFQSxNQUFNQyxRQUFRdEMsb0RBQVFBO1FBQ3RCLE1BQU11QyxNQUFNLENBQUMsa0JBQWtCLEVBQUVKLE9BQU8sQ0FBQztRQUN6QyxNQUFNSyxPQUFPLE1BQU1GLE1BQU1HLE1BQU0sQ0FBQ0YsS0FBSyxHQUFHLENBQUM7UUFFekMsSUFBSWEsVUFBVTtRQUNkLEtBQUssTUFBTVIsT0FBT0osS0FBTTtZQUN0QixJQUFJO2dCQUNGLE1BQU1hLFNBQVMxQixLQUFLQyxLQUFLLENBQUNnQjtnQkFDMUIsSUFBSVMsUUFBUUYsVUFBVUEsT0FBTztvQkFDM0IsTUFBTWIsTUFBTWdCLElBQUksQ0FBQ2YsS0FBSyxHQUFHSztvQkFDekJRLFVBQVU7b0JBQ1Y7Z0JBQ0Y7WUFDRixFQUFFLE9BQU07WUFDTix3QkFBd0I7WUFDMUI7UUFDRjtRQUVBLE9BQU9yRCxrRkFBWUEsQ0FBQ3FDLElBQUksQ0FBQztZQUFFZ0I7UUFBUTtJQUNyQyxFQUFFLE9BQU9yQixLQUFLO1FBQ1pDLFFBQVFDLEtBQUssQ0FBQyxvQ0FBb0NGO1FBQ2xELE9BQU9oQyxrRkFBWUEsQ0FBQ3FDLElBQUksQ0FBQztZQUFFSCxPQUFPO1FBQWdDLEdBQUc7WUFBRUksUUFBUTtRQUFJO0lBQ3JGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbmx5ZmFucy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL3NhZHRhbGtlci9oaXN0b3J5L3JvdXRlLnRzP2ZmZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5pbXBvcnQgeyBnZXRSZWRpcyB9IGZyb20gXCIuLi9fbGliL3JlZGlzXCI7XG5cbmV4cG9ydCBjb25zdCBydW50aW1lID0gXCJub2RlanNcIjtcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7XG5cbmNvbnN0IEhJU1RPUllfTElNSVQgPSBOdW1iZXIocHJvY2Vzcy5lbnYuU0FEVEFMS0VSX0hJU1RPUllfTElNSVQgfHwgNTApO1xuY29uc3QgU0VSVkVSX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuQVBJX1VSTCB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAxXCI7XG5jb25zdCBTRVNTSU9OX0NPT0tJRV9OQU1FID0gcHJvY2Vzcy5lbnYuU0VTU0lPTl9DT09LSUVfTkFNRSB8fCBcImFpX3Nlc3Npb25cIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXJJZChyZXE6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuZ2V0KFNFU1NJT05fQ09PS0lFX05BTUUpPy52YWx1ZTtcbiAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHsgY29va2llOiBgJHtTRVNTSU9OX0NPT0tJRV9OQU1FfT0ke3Rva2VufWAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChgJHtTRVJWRVJfQkFTRV9VUkx9L2FwaS9hdXRoL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVycyxcbiAgICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwLm9rKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcC50ZXh0KCk7XG4gICAgbGV0IGRhdGE6IGFueTtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IHRleHQgPyBKU09OLnBhcnNlKHRleHQpIDogbnVsbDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIGRhdGEgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBpZCA9IHR5cGVvZiBkYXRhPy5pZCA9PT0gXCJzdHJpbmdcIiA/IGRhdGEuaWQudHJpbSgpIDogXCJcIjtcbiAgICByZXR1cm4gaWQgfHwgbnVsbDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltzYWR0YWxrZXI6aGlzdG9yeV0gYXV0aCBsb29rdXAgZmFpbGVkXCIsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlcklkID0gYXdhaXQgZ2V0Q3VycmVudFVzZXJJZChyZXEpO1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJVbmF1dGhvcml6ZWRcIiB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJlZGlzID0gZ2V0UmVkaXMoKTtcbiAgICBjb25zdCBrZXkgPSBgc2FkdGFsa2VyOmhpc3Rvcnk6JHt1c2VySWR9YDtcbiAgICBjb25zdCByb3dzID0gYXdhaXQgcmVkaXMubHJhbmdlKGtleSwgMCwgSElTVE9SWV9MSU1JVCAtIDEpO1xuICAgIGNvbnN0IGl0ZW1zID0gcm93c1xuICAgICAgLm1hcCgocm93KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uocm93KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3NhZHRhbGtlcjpoaXN0b3J5XSBmYWlsZWQgdG8gcGFyc2Ugcm93XCIsIGVycik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChpdGVtKTogaXRlbSBpcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9PiAhIWl0ZW0pO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgaXRlbXMgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbc2FkdGFsa2VyOmhpc3RvcnldIGVycm9yXCIsIGVycik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRmFpbGVkIHRvIGxvYWQgU2FkVGFsa2VyIGhpc3RvcnlcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxOiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJJZCA9IGF3YWl0IGdldEN1cnJlbnRVc2VySWQocmVxKTtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiVW5hdXRob3JpemVkXCIgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxLmpzb24oKS5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICBjb25zdCBqb2JJZCA9IHR5cGVvZiBib2R5Py5qb2JJZCA9PT0gXCJzdHJpbmdcIiA/IGJvZHkuam9iSWQudHJpbSgpIDogXCJcIjtcbiAgICBpZiAoIWpvYklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJqb2JJZCBpcyByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcmVkaXMgPSBnZXRSZWRpcygpO1xuICAgIGNvbnN0IGtleSA9IGBzYWR0YWxrZXI6aGlzdG9yeToke3VzZXJJZH1gO1xuICAgIGNvbnN0IHJvd3MgPSBhd2FpdCByZWRpcy5scmFuZ2Uoa2V5LCAwLCAtMSk7XG5cbiAgICBsZXQgcmVtb3ZlZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3Qgcm93IG9mIHJvd3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2Uocm93KSBhcyB7IGpvYklkPzogc3RyaW5nIH0gfCBudWxsO1xuICAgICAgICBpZiAocGFyc2VkPy5qb2JJZCA9PT0gam9iSWQpIHtcbiAgICAgICAgICBhd2FpdCByZWRpcy5scmVtKGtleSwgMSwgcm93KTtcbiAgICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIGlnbm9yZSBtYWxmb3JtZWQgcm93c1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHJlbW92ZWQgfSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbc2FkdGFsa2VyOmhpc3Rvcnk6ZGVsZXRlXSBlcnJvclwiLCBlcnIpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkZhaWxlZCB0byBkZWxldGUgaGlzdG9yeSBpdGVtXCIgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFJlZGlzIiwicnVudGltZSIsImR5bmFtaWMiLCJISVNUT1JZX0xJTUlUIiwiTnVtYmVyIiwicHJvY2VzcyIsImVudiIsIlNBRFRBTEtFUl9ISVNUT1JZX0xJTUlUIiwiU0VSVkVSX0JBU0VfVVJMIiwiQVBJX1VSTCIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJTRVNTSU9OX0NPT0tJRV9OQU1FIiwiZ2V0Q3VycmVudFVzZXJJZCIsInJlcSIsInRva2VuIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiaGVhZGVycyIsImNvb2tpZSIsInJlc3AiLCJmZXRjaCIsIm1ldGhvZCIsImNhY2hlIiwib2siLCJ0ZXh0IiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImlkIiwidHJpbSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIkdFVCIsInVzZXJJZCIsImpzb24iLCJzdGF0dXMiLCJyZWRpcyIsImtleSIsInJvd3MiLCJscmFuZ2UiLCJpdGVtcyIsIm1hcCIsInJvdyIsIndhcm4iLCJmaWx0ZXIiLCJpdGVtIiwiREVMRVRFIiwiYm9keSIsImNhdGNoIiwiam9iSWQiLCJyZW1vdmVkIiwicGFyc2VkIiwibHJlbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/history/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ioredis","vendor-chunks/debug","vendor-chunks/redis-errors","vendor-chunks/standard-as-callback","vendor-chunks/redis-parser","vendor-chunks/@ioredis","vendor-chunks/supports-color","vendor-chunks/ms","vendor-chunks/lodash.isarguments","vendor-chunks/lodash.defaults","vendor-chunks/has-flag","vendor-chunks/denque","vendor-chunks/cluster-key-slot"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fhistory%2Froute&page=%2Fapi%2Fsadtalker%2Fhistory%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fhistory%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();