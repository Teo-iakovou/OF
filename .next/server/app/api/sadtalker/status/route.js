/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/sadtalker/status/route";
exports.ids = ["app/api/sadtalker/status/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/bullmq/dist/cjs/classes lazy recursive referencedExports: default":
/*!************************************************************************************************!*\
  !*** ./node_modules/bullmq/dist/cjs/classes/ lazy referencedExports: default namespace object ***!
  \************************************************************************************************/
/***/ ((module) => {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(() => {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = () => ([]);
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "(rsc)/./node_modules/bullmq/dist/cjs/classes lazy recursive referencedExports: default";
module.exports = webpackEmptyAsyncContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("worker_threads");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fstatus%2Froute&page=%2Fapi%2Fsadtalker%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fstatus%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fstatus%2Froute&page=%2Fapi%2Fsadtalker%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fstatus%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_theodorosiakovou_Projects_ai_platform_src_app_api_sadtalker_status_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/sadtalker/status/route.ts */ \"(rsc)/./src/app/api/sadtalker/status/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/sadtalker/status/route\",\n        pathname: \"/api/sadtalker/status\",\n        filename: \"route\",\n        bundlePath: \"app/api/sadtalker/status/route\"\n    },\n    resolvedPagePath: \"/Users/theodorosiakovou/Projects/ai-platform/src/app/api/sadtalker/status/route.ts\",\n    nextConfigOutput,\n    userland: _Users_theodorosiakovou_Projects_ai_platform_src_app_api_sadtalker_status_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/sadtalker/status/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzYWR0YWxrZXIlMkZzdGF0dXMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnNhZHRhbGtlciUyRnN0YXR1cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnNhZHRhbGtlciUyRnN0YXR1cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnRoZW9kb3Jvc2lha292b3UlMkZQcm9qZWN0cyUyRmFpLXBsYXRmb3JtJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnRoZW9kb3Jvc2lha292b3UlMkZQcm9qZWN0cyUyRmFpLXBsYXRmb3JtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ3NEO0FBQ3ZDO0FBQ2dEO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ2lKOztBQUVqSiIsInNvdXJjZXMiOlsid2VicGFjazovL29ubHlmYW5zLXBsYXRmb3JtLz80YzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIm5leHQvZGlzdC9zZXJ2ZXIvbm9kZS1wb2x5ZmlsbC1oZWFkZXJzXCI7XG5pbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdGhlb2Rvcm9zaWFrb3ZvdS9Qcm9qZWN0cy9haS1wbGF0Zm9ybS9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvc3RhdHVzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zYWR0YWxrZXIvc3RhdHVzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2FkdGFsa2VyL3N0YXR1c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2FkdGFsa2VyL3N0YXR1cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy90aGVvZG9yb3NpYWtvdm91L1Byb2plY3RzL2FpLXBsYXRmb3JtL3NyYy9hcHAvYXBpL3NhZHRhbGtlci9zdGF0dXMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc2FkdGFsa2VyL3N0YXR1cy9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fstatus%2Froute&page=%2Fapi%2Fsadtalker%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fstatus%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/_lib/config.ts":
/*!**********************************************!*\
  !*** ./src/app/api/sadtalker/_lib/config.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sadTalkerConfig: () => (/* binding */ sadTalkerConfig)\n/* harmony export */ });\nconst REQUIRED_ENV = [\n    \"SADTALKER_REDIS_URL\"\n];\nfunction requireEnv(name) {\n    const value = process.env[name];\n    if (!value) {\n        throw new Error(`[sadtalker-config] Missing required env var ${name}`);\n    }\n    return value;\n}\nfunction parseRunPodEndpoints(raw) {\n    if (!raw) return [];\n    try {\n        const parsed = JSON.parse(raw);\n        if (Array.isArray(parsed)) {\n            return parsed.map((item)=>{\n                if (!item || typeof item !== \"object\") return null;\n                const url = typeof item.url === \"string\" ? item.url.trim() : \"\";\n                const token = typeof item.token === \"string\" ? item.token.trim() : \"\";\n                const apiKey = typeof item.apiKey === \"string\" && item.apiKey.trim() ? item.apiKey.trim() : undefined;\n                if (!url || !token) return null;\n                return {\n                    url,\n                    token,\n                    apiKey\n                };\n            }).filter((item)=>!!item);\n        }\n    } catch (err) {\n        // fall through to delimiter parsing below\n        if (true) {\n            console.warn(\"[sadtalker-config] Failed to parse SADTALKER_RUNPOD_ENDPOINTS as JSON:\", err);\n        }\n    }\n    return raw.split(\",\").map((entry)=>entry.trim()).filter(Boolean).map((entry)=>{\n        const [url, token, apiKey] = entry.split(\"|\").map((part)=>part.trim());\n        if (!url || !token) return null;\n        return {\n            url,\n            token,\n            apiKey: apiKey || undefined\n        };\n    }).filter((item)=>!!item);\n}\nconst sadTalkerConfig = {\n    redisUrl: requireEnv(\"SADTALKER_REDIS_URL\"),\n    runPodEndpoints: parseRunPodEndpoints(process.env.SADTALKER_RUNPOD_ENDPOINTS),\n    storageProvider: (process.env.SADTALKER_STORAGE_PROVIDER || \"\").toLowerCase() || undefined,\n    r2Bucket: process.env.SADTALKER_R2_BUCKET,\n    r2AccountId: process.env.SADTALKER_R2_ACCOUNT_ID,\n    r2AccessKeyId: process.env.SADTALKER_R2_ACCESS_KEY_ID,\n    r2SecretAccessKey: process.env.SADTALKER_R2_SECRET_ACCESS_KEY,\n    supabaseUrl: process.env.SUPABASE_URL,\n    supabaseKey: process.env.SUPABASE_SERVICE_KEY,\n    supabaseBucket: process.env.SUPABASE_BUCKET || \"sadtalker\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvX2xpYi9jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7OztBQU1BLE1BQU1BLGVBQWU7SUFBQztDQUFzQjtBQUU1QyxTQUFTQyxXQUFXQyxJQUFtQztJQUNyRCxNQUFNQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNILEtBQUs7SUFDL0IsSUFBSSxDQUFDQyxPQUFPO1FBQ1YsTUFBTSxJQUFJRyxNQUFNLENBQUMsNENBQTRDLEVBQUVKLEtBQUssQ0FBQztJQUN2RTtJQUNBLE9BQU9DO0FBQ1Q7QUFFQSxTQUFTSSxxQkFBcUJDLEdBQXVCO0lBQ25ELElBQUksQ0FBQ0EsS0FBSyxPQUFPLEVBQUU7SUFFbkIsSUFBSTtRQUNGLE1BQU1DLFNBQVNDLEtBQUtDLEtBQUssQ0FBQ0g7UUFDMUIsSUFBSUksTUFBTUMsT0FBTyxDQUFDSixTQUFTO1lBQ3pCLE9BQU9BLE9BQ0pLLEdBQUcsQ0FBQyxDQUFDQztnQkFDSixJQUFJLENBQUNBLFFBQVEsT0FBT0EsU0FBUyxVQUFVLE9BQU87Z0JBQzlDLE1BQU1DLE1BQU0sT0FBTyxLQUFjQSxHQUFHLEtBQUssV0FBVyxLQUFjQSxHQUFHLENBQUNDLElBQUksS0FBSztnQkFDL0UsTUFBTUMsUUFBUSxPQUFPLEtBQWNBLEtBQUssS0FBSyxXQUFXLEtBQWNBLEtBQUssQ0FBQ0QsSUFBSSxLQUFLO2dCQUNyRixNQUFNRSxTQUNKLE9BQU8sS0FBY0EsTUFBTSxLQUFLLFlBQVksS0FBY0EsTUFBTSxDQUFDRixJQUFJLEtBQ2pFLEtBQWNFLE1BQU0sQ0FBQ0YsSUFBSSxLQUN6Qkc7Z0JBQ04sSUFBSSxDQUFDSixPQUFPLENBQUNFLE9BQU8sT0FBTztnQkFDM0IsT0FBTztvQkFBRUY7b0JBQUtFO29CQUFPQztnQkFBTztZQUM5QixHQUNDRSxNQUFNLENBQUMsQ0FBQ04sT0FBaUMsQ0FBQyxDQUFDQTtRQUNoRDtJQUNGLEVBQUUsT0FBT08sS0FBSztRQUNaLDBDQUEwQztRQUMxQyxJQUFJbEIsSUFBcUMsRUFBRTtZQUN6Q21CLFFBQVFDLElBQUksQ0FBQywwRUFBMEVGO1FBQ3pGO0lBQ0Y7SUFFQSxPQUFPZCxJQUNKaUIsS0FBSyxDQUFDLEtBQ05YLEdBQUcsQ0FBQyxDQUFDWSxRQUFVQSxNQUFNVCxJQUFJLElBQ3pCSSxNQUFNLENBQUNNLFNBQ1BiLEdBQUcsQ0FBQyxDQUFDWTtRQUNKLE1BQU0sQ0FBQ1YsS0FBS0UsT0FBT0MsT0FBTyxHQUFHTyxNQUFNRCxLQUFLLENBQUMsS0FBS1gsR0FBRyxDQUFDLENBQUNjLE9BQVNBLEtBQUtYLElBQUk7UUFDckUsSUFBSSxDQUFDRCxPQUFPLENBQUNFLE9BQU8sT0FBTztRQUMzQixPQUFPO1lBQUVGO1lBQUtFO1lBQU9DLFFBQVFBLFVBQVVDO1FBQVU7SUFDbkQsR0FDQ0MsTUFBTSxDQUFDLENBQUNOLE9BQWlDLENBQUMsQ0FBQ0E7QUFDaEQ7QUFFTyxNQUFNYyxrQkFBa0I7SUFDN0JDLFVBQVU3QixXQUFXO0lBQ3JCOEIsaUJBQWlCeEIscUJBQXFCSCxRQUFRQyxHQUFHLENBQUMyQiwwQkFBMEI7SUFDNUVDLGlCQUFpQixDQUFDN0IsUUFBUUMsR0FBRyxDQUFDNkIsMEJBQTBCLElBQUksRUFBQyxFQUFHQyxXQUFXLE1BQU1mO0lBQ2pGZ0IsVUFBVWhDLFFBQVFDLEdBQUcsQ0FBQ2dDLG1CQUFtQjtJQUN6Q0MsYUFBYWxDLFFBQVFDLEdBQUcsQ0FBQ2tDLHVCQUF1QjtJQUNoREMsZUFBZXBDLFFBQVFDLEdBQUcsQ0FBQ29DLDBCQUEwQjtJQUNyREMsbUJBQW1CdEMsUUFBUUMsR0FBRyxDQUFDc0MsOEJBQThCO0lBQzdEQyxhQUFheEMsUUFBUUMsR0FBRyxDQUFDd0MsWUFBWTtJQUNyQ0MsYUFBYTFDLFFBQVFDLEdBQUcsQ0FBQzBDLG9CQUFvQjtJQUM3Q0MsZ0JBQWdCNUMsUUFBUUMsR0FBRyxDQUFDNEMsZUFBZSxJQUFJO0FBQ2pELEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbmx5ZmFucy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL3NhZHRhbGtlci9fbGliL2NvbmZpZy50cz8xMTYzIl0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgUnVuUG9kRW5kcG9pbnQgPSB7XG4gIHVybDogc3RyaW5nO1xuICB0b2tlbjogc3RyaW5nO1xuICBhcGlLZXk/OiBzdHJpbmc7XG59O1xuXG5jb25zdCBSRVFVSVJFRF9FTlYgPSBbXCJTQURUQUxLRVJfUkVESVNfVVJMXCJdIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiByZXF1aXJlRW52KG5hbWU6ICh0eXBlb2YgUkVRVUlSRURfRU5WKVtudW1iZXJdKTogc3RyaW5nIHtcbiAgY29uc3QgdmFsdWUgPSBwcm9jZXNzLmVudltuYW1lXTtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgW3NhZHRhbGtlci1jb25maWddIE1pc3NpbmcgcmVxdWlyZWQgZW52IHZhciAke25hbWV9YCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBwYXJzZVJ1blBvZEVuZHBvaW50cyhyYXc6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFJ1blBvZEVuZHBvaW50W10ge1xuICBpZiAoIXJhdykgcmV0dXJuIFtdO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHtcbiAgICAgIHJldHVybiBwYXJzZWRcbiAgICAgICAgLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGlmICghaXRlbSB8fCB0eXBlb2YgaXRlbSAhPT0gXCJvYmplY3RcIikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgY29uc3QgdXJsID0gdHlwZW9mIChpdGVtIGFzIGFueSkudXJsID09PSBcInN0cmluZ1wiID8gKGl0ZW0gYXMgYW55KS51cmwudHJpbSgpIDogXCJcIjtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IHR5cGVvZiAoaXRlbSBhcyBhbnkpLnRva2VuID09PSBcInN0cmluZ1wiID8gKGl0ZW0gYXMgYW55KS50b2tlbi50cmltKCkgOiBcIlwiO1xuICAgICAgICAgIGNvbnN0IGFwaUtleSA9XG4gICAgICAgICAgICB0eXBlb2YgKGl0ZW0gYXMgYW55KS5hcGlLZXkgPT09IFwic3RyaW5nXCIgJiYgKGl0ZW0gYXMgYW55KS5hcGlLZXkudHJpbSgpXG4gICAgICAgICAgICAgID8gKGl0ZW0gYXMgYW55KS5hcGlLZXkudHJpbSgpXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmICghdXJsIHx8ICF0b2tlbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgcmV0dXJuIHsgdXJsLCB0b2tlbiwgYXBpS2V5IH07XG4gICAgICAgIH0pXG4gICAgICAgIC5maWx0ZXIoKGl0ZW0pOiBpdGVtIGlzIFJ1blBvZEVuZHBvaW50ID0+ICEhaXRlbSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gZGVsaW1pdGVyIHBhcnNpbmcgYmVsb3dcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJbc2FkdGFsa2VyLWNvbmZpZ10gRmFpbGVkIHRvIHBhcnNlIFNBRFRBTEtFUl9SVU5QT0RfRU5EUE9JTlRTIGFzIEpTT046XCIsIGVycik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJhd1xuICAgIC5zcGxpdChcIixcIilcbiAgICAubWFwKChlbnRyeSkgPT4gZW50cnkudHJpbSgpKVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAubWFwKChlbnRyeSkgPT4ge1xuICAgICAgY29uc3QgW3VybCwgdG9rZW4sIGFwaUtleV0gPSBlbnRyeS5zcGxpdChcInxcIikubWFwKChwYXJ0KSA9PiBwYXJ0LnRyaW0oKSk7XG4gICAgICBpZiAoIXVybCB8fCAhdG9rZW4pIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHsgdXJsLCB0b2tlbiwgYXBpS2V5OiBhcGlLZXkgfHwgdW5kZWZpbmVkIH07XG4gICAgfSlcbiAgICAuZmlsdGVyKChpdGVtKTogaXRlbSBpcyBSdW5Qb2RFbmRwb2ludCA9PiAhIWl0ZW0pO1xufVxuXG5leHBvcnQgY29uc3Qgc2FkVGFsa2VyQ29uZmlnID0ge1xuICByZWRpc1VybDogcmVxdWlyZUVudihcIlNBRFRBTEtFUl9SRURJU19VUkxcIiksXG4gIHJ1blBvZEVuZHBvaW50czogcGFyc2VSdW5Qb2RFbmRwb2ludHMocHJvY2Vzcy5lbnYuU0FEVEFMS0VSX1JVTlBPRF9FTkRQT0lOVFMpLFxuICBzdG9yYWdlUHJvdmlkZXI6IChwcm9jZXNzLmVudi5TQURUQUxLRVJfU1RPUkFHRV9QUk9WSURFUiB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpIHx8IHVuZGVmaW5lZCxcbiAgcjJCdWNrZXQ6IHByb2Nlc3MuZW52LlNBRFRBTEtFUl9SMl9CVUNLRVQsXG4gIHIyQWNjb3VudElkOiBwcm9jZXNzLmVudi5TQURUQUxLRVJfUjJfQUNDT1VOVF9JRCxcbiAgcjJBY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuU0FEVEFMS0VSX1IyX0FDQ0VTU19LRVlfSUQsXG4gIHIyU2VjcmV0QWNjZXNzS2V5OiBwcm9jZXNzLmVudi5TQURUQUxLRVJfUjJfU0VDUkVUX0FDQ0VTU19LRVksXG4gIHN1cGFiYXNlVXJsOiBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwsXG4gIHN1cGFiYXNlS2V5OiBwcm9jZXNzLmVudi5TVVBBQkFTRV9TRVJWSUNFX0tFWSxcbiAgc3VwYWJhc2VCdWNrZXQ6IHByb2Nlc3MuZW52LlNVUEFCQVNFX0JVQ0tFVCB8fCBcInNhZHRhbGtlclwiLFxufTtcblxuZXhwb3J0IHR5cGUgU2FkVGFsa2VyQ29uZmlnID0gdHlwZW9mIHNhZFRhbGtlckNvbmZpZztcbmV4cG9ydCB0eXBlIHsgUnVuUG9kRW5kcG9pbnQgfTtcbiJdLCJuYW1lcyI6WyJSRVFVSVJFRF9FTlYiLCJyZXF1aXJlRW52IiwibmFtZSIsInZhbHVlIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwicGFyc2VSdW5Qb2RFbmRwb2ludHMiLCJyYXciLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpdGVtIiwidXJsIiwidHJpbSIsInRva2VuIiwiYXBpS2V5IiwidW5kZWZpbmVkIiwiZmlsdGVyIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJzcGxpdCIsImVudHJ5IiwiQm9vbGVhbiIsInBhcnQiLCJzYWRUYWxrZXJDb25maWciLCJyZWRpc1VybCIsInJ1blBvZEVuZHBvaW50cyIsIlNBRFRBTEtFUl9SVU5QT0RfRU5EUE9JTlRTIiwic3RvcmFnZVByb3ZpZGVyIiwiU0FEVEFMS0VSX1NUT1JBR0VfUFJPVklERVIiLCJ0b0xvd2VyQ2FzZSIsInIyQnVja2V0IiwiU0FEVEFMS0VSX1IyX0JVQ0tFVCIsInIyQWNjb3VudElkIiwiU0FEVEFMS0VSX1IyX0FDQ09VTlRfSUQiLCJyMkFjY2Vzc0tleUlkIiwiU0FEVEFMS0VSX1IyX0FDQ0VTU19LRVlfSUQiLCJyMlNlY3JldEFjY2Vzc0tleSIsIlNBRFRBTEtFUl9SMl9TRUNSRVRfQUNDRVNTX0tFWSIsInN1cGFiYXNlVXJsIiwiU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJTVVBBQkFTRV9TRVJWSUNFX0tFWSIsInN1cGFiYXNlQnVja2V0IiwiU1VQQUJBU0VfQlVDS0VUIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/_lib/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/_lib/queue.ts":
/*!*********************************************!*\
  !*** ./src/app/api/sadtalker/_lib/queue.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SADTALKER_QUEUE_NAME: () => (/* binding */ SADTALKER_QUEUE_NAME),\n/* harmony export */   getSadTalkerQueue: () => (/* binding */ getSadTalkerQueue)\n/* harmony export */ });\nconst QUEUE_NAME = \"sadtalker-jobs\";\nfunction getSadTalkerQueue() {\n    if (!global.__sadtalkerQueue) {\n        const { Queue } = __webpack_require__(/*! bullmq */ \"(rsc)/./node_modules/bullmq/dist/cjs/index.js\");\n        const { getRedis } = __webpack_require__(/*! ./redis */ \"(rsc)/./src/app/api/sadtalker/_lib/redis.ts\");\n        global.__sadtalkerQueue = new Queue(QUEUE_NAME, {\n            connection: getRedis(),\n            defaultJobOptions: {\n                attempts: 3,\n                backoff: {\n                    type: \"exponential\",\n                    delay: 10000\n                },\n                removeOnComplete: {\n                    age: 3600,\n                    count: 500\n                },\n                removeOnFail: {\n                    age: 86400\n                }\n            }\n        });\n    }\n    return global.__sadtalkerQueue;\n}\nconst SADTALKER_QUEUE_NAME = QUEUE_NAME;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvX2xpYi9xdWV1ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUVBLE1BQU1BLGFBQWE7QUFPWixTQUFTQztJQUNkLElBQUksQ0FBQ0MsT0FBT0MsZ0JBQWdCLEVBQUU7UUFDNUIsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR0MsbUJBQU9BLENBQUMsNkRBQVE7UUFDbEMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0QsbUJBQU9BLENBQUMsNERBQVM7UUFDdENILE9BQU9DLGdCQUFnQixHQUFHLElBQUlDLE1BQU1KLFlBQVk7WUFDOUNPLFlBQVlEO1lBQ1pFLG1CQUFtQjtnQkFDakJDLFVBQVU7Z0JBQ1ZDLFNBQVM7b0JBQUVDLE1BQU07b0JBQWVDLE9BQU87Z0JBQU07Z0JBQzdDQyxrQkFBa0I7b0JBQUVDLEtBQUs7b0JBQU1DLE9BQU87Z0JBQUk7Z0JBQzFDQyxjQUFjO29CQUFFRixLQUFLO2dCQUFNO1lBQzdCO1FBQ0Y7SUFDRjtJQUNBLE9BQU9aLE9BQU9DLGdCQUFnQjtBQUNoQztBQUVPLE1BQU1jLHVCQUF1QmpCLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbmx5ZmFucy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL3NhZHRhbGtlci9fbGliL3F1ZXVlLnRzP2FkMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRdWV1ZSB9IGZyb20gXCJidWxsbXFcIjtcblxuY29uc3QgUVVFVUVfTkFNRSA9IFwic2FkdGFsa2VyLWpvYnNcIjtcblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBfX3NhZHRhbGtlclF1ZXVlOiBRdWV1ZSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNhZFRhbGtlclF1ZXVlKCk6IFF1ZXVlIHtcbiAgaWYgKCFnbG9iYWwuX19zYWR0YWxrZXJRdWV1ZSkge1xuICAgIGNvbnN0IHsgUXVldWUgfSA9IHJlcXVpcmUoXCJidWxsbXFcIikgYXMgeyBRdWV1ZTogdHlwZW9mIGltcG9ydChcImJ1bGxtcVwiKS5RdWV1ZSB9O1xuICAgIGNvbnN0IHsgZ2V0UmVkaXMgfSA9IHJlcXVpcmUoXCIuL3JlZGlzXCIpIGFzIHsgZ2V0UmVkaXM6IHR5cGVvZiBpbXBvcnQoXCIuL3JlZGlzXCIpLmdldFJlZGlzIH07XG4gICAgZ2xvYmFsLl9fc2FkdGFsa2VyUXVldWUgPSBuZXcgUXVldWUoUVVFVUVfTkFNRSwge1xuICAgICAgY29ubmVjdGlvbjogZ2V0UmVkaXMoKSxcbiAgICAgIGRlZmF1bHRKb2JPcHRpb25zOiB7XG4gICAgICAgIGF0dGVtcHRzOiAzLFxuICAgICAgICBiYWNrb2ZmOiB7IHR5cGU6IFwiZXhwb25lbnRpYWxcIiwgZGVsYXk6IDEwMDAwIH0sXG4gICAgICAgIHJlbW92ZU9uQ29tcGxldGU6IHsgYWdlOiAzNjAwLCBjb3VudDogNTAwIH0sXG4gICAgICAgIHJlbW92ZU9uRmFpbDogeyBhZ2U6IDg2NDAwIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBnbG9iYWwuX19zYWR0YWxrZXJRdWV1ZTtcbn1cblxuZXhwb3J0IGNvbnN0IFNBRFRBTEtFUl9RVUVVRV9OQU1FID0gUVVFVUVfTkFNRTtcbiJdLCJuYW1lcyI6WyJRVUVVRV9OQU1FIiwiZ2V0U2FkVGFsa2VyUXVldWUiLCJnbG9iYWwiLCJfX3NhZHRhbGtlclF1ZXVlIiwiUXVldWUiLCJyZXF1aXJlIiwiZ2V0UmVkaXMiLCJjb25uZWN0aW9uIiwiZGVmYXVsdEpvYk9wdGlvbnMiLCJhdHRlbXB0cyIsImJhY2tvZmYiLCJ0eXBlIiwiZGVsYXkiLCJyZW1vdmVPbkNvbXBsZXRlIiwiYWdlIiwiY291bnQiLCJyZW1vdmVPbkZhaWwiLCJTQURUQUxLRVJfUVVFVUVfTkFNRSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/_lib/queue.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/_lib/redis.ts":
/*!*********************************************!*\
  !*** ./src/app/api/sadtalker/_lib/redis.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRedis: () => (/* binding */ getRedis)\n/* harmony export */ });\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ioredis */ \"(rsc)/./node_modules/ioredis/built/index.js\");\n/* harmony import */ var ioredis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ioredis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"(rsc)/./src/app/api/sadtalker/_lib/config.ts\");\n\n\nfunction getRedis() {\n    if (!global.__sadtalkerRedisClient) {\n        global.__sadtalkerRedisClient = new (ioredis__WEBPACK_IMPORTED_MODULE_0___default())(_config__WEBPACK_IMPORTED_MODULE_1__.sadTalkerConfig.redisUrl, {\n            maxRetriesPerRequest: null,\n            enableReadyCheck: true\n        });\n    }\n    return global.__sadtalkerRedisClient;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvX2xpYi9yZWRpcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTRCO0FBRWU7QUFPcEMsU0FBU0U7SUFDZCxJQUFJLENBQUNDLE9BQU9DLHNCQUFzQixFQUFFO1FBQ2xDRCxPQUFPQyxzQkFBc0IsR0FBRyxJQUFJSixnREFBS0EsQ0FBQ0Msb0RBQWVBLENBQUNJLFFBQVEsRUFBRTtZQUNsRUMsc0JBQXNCO1lBQ3RCQyxrQkFBa0I7UUFDcEI7SUFDRjtJQUNBLE9BQU9KLE9BQU9DLHNCQUFzQjtBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL29ubHlmYW5zLXBsYXRmb3JtLy4vc3JjL2FwcC9hcGkvc2FkdGFsa2VyL19saWIvcmVkaXMudHM/MTlmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVkaXMgZnJvbSBcImlvcmVkaXNcIjtcblxuaW1wb3J0IHsgc2FkVGFsa2VyQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlnXCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXZhclxuICB2YXIgX19zYWR0YWxrZXJSZWRpc0NsaWVudDogUmVkaXMgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWRpcygpOiBSZWRpcyB7XG4gIGlmICghZ2xvYmFsLl9fc2FkdGFsa2VyUmVkaXNDbGllbnQpIHtcbiAgICBnbG9iYWwuX19zYWR0YWxrZXJSZWRpc0NsaWVudCA9IG5ldyBSZWRpcyhzYWRUYWxrZXJDb25maWcucmVkaXNVcmwsIHtcbiAgICAgIG1heFJldHJpZXNQZXJSZXF1ZXN0OiBudWxsLFxuICAgICAgZW5hYmxlUmVhZHlDaGVjazogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZ2xvYmFsLl9fc2FkdGFsa2VyUmVkaXNDbGllbnQ7XG59XG4iXSwibmFtZXMiOlsiUmVkaXMiLCJzYWRUYWxrZXJDb25maWciLCJnZXRSZWRpcyIsImdsb2JhbCIsIl9fc2FkdGFsa2VyUmVkaXNDbGllbnQiLCJyZWRpc1VybCIsIm1heFJldHJpZXNQZXJSZXF1ZXN0IiwiZW5hYmxlUmVhZHlDaGVjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/_lib/redis.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/sadtalker/status/route.ts":
/*!***********************************************!*\
  !*** ./src/app/api/sadtalker/status/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_queue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../_lib/queue */ \"(rsc)/./src/app/api/sadtalker/_lib/queue.ts\");\n\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nfunction toProgress(progress) {\n    if (typeof progress === \"number\") return Math.max(0, Math.min(100, progress));\n    if (progress && typeof progress === \"object\" && \"value\" in progress) {\n        const value = progress.value;\n        if (typeof value === \"number\") return Math.max(0, Math.min(100, value));\n    }\n    return undefined;\n}\nfunction extractRemoteState(progress) {\n    if (progress && typeof progress === \"object\" && \"remoteState\" in progress) {\n        const remoteState = progress.remoteState;\n        if (typeof remoteState === \"string\" && remoteState.trim()) {\n            return remoteState;\n        }\n    }\n    return undefined;\n}\nasync function GET(req) {\n    try {\n        const search = req.nextUrl.searchParams;\n        const jobId = search.get(\"id\");\n        if (!jobId) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Missing id parameter\"\n            }, {\n                status: 400\n            });\n        }\n        const queue = (0,_lib_queue__WEBPACK_IMPORTED_MODULE_1__.getSadTalkerQueue)();\n        const job = await queue.getJob(jobId);\n        if (!job) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Job not found\"\n            }, {\n                status: 404\n            });\n        }\n        const state = await job.getState();\n        const rawProgress = job.progress;\n        const progress = toProgress(rawProgress);\n        const remoteState = extractRemoteState(rawProgress);\n        const result = job.returnvalue;\n        const failedReason = job.failedReason;\n        const error = job.stacktrace?.[0] || failedReason;\n        const errorPayload = job.data?.error;\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            jobId,\n            state,\n            progress,\n            attempts: job.attemptsMade,\n            result,\n            remoteState,\n            error: errorPayload || (error ? {\n                message: String(error)\n            } : undefined)\n        });\n    } catch (err) {\n        console.error(\"[sadtalker:status] error\", err);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch job status\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zYWR0YWxrZXIvc3RhdHVzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXdEO0FBRU47QUFHM0MsTUFBTUUsVUFBVSxTQUFTO0FBQ3pCLE1BQU1DLFVBQVUsZ0JBQWdCO0FBRXZDLFNBQVNDLFdBQVdDLFFBQWlCO0lBQ25DLElBQUksT0FBT0EsYUFBYSxVQUFVLE9BQU9DLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUMsS0FBS0g7SUFDbkUsSUFBSUEsWUFBWSxPQUFPQSxhQUFhLFlBQVksV0FBV0EsVUFBVTtRQUNuRSxNQUFNSSxRQUFRLFNBQWtDQSxLQUFLO1FBQ3JELElBQUksT0FBT0EsVUFBVSxVQUFVLE9BQU9ILEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUMsS0FBS0M7SUFDbEU7SUFDQSxPQUFPQztBQUNUO0FBRUEsU0FBU0MsbUJBQW1CTixRQUFpQjtJQUMzQyxJQUFJQSxZQUFZLE9BQU9BLGFBQWEsWUFBWSxpQkFBaUJBLFVBQVU7UUFDekUsTUFBTU8sY0FBYyxTQUF3Q0EsV0FBVztRQUN2RSxJQUFJLE9BQU9BLGdCQUFnQixZQUFZQSxZQUFZQyxJQUFJLElBQUk7WUFDekQsT0FBT0Q7UUFDVDtJQUNGO0lBQ0EsT0FBT0Y7QUFDVDtBQUVPLGVBQWVJLElBQUlDLEdBQWdCO0lBQ3hDLElBQUk7UUFDRixNQUFNQyxTQUFTRCxJQUFJRSxPQUFPLENBQUNDLFlBQVk7UUFDdkMsTUFBTUMsUUFBUUgsT0FBT0ksR0FBRyxDQUFDO1FBQ3pCLElBQUksQ0FBQ0QsT0FBTztZQUNWLE9BQU9uQixrRkFBWUEsQ0FBQ3FCLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUF1QixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDNUU7UUFFQSxNQUFNQyxRQUFRdkIsNkRBQWlCQTtRQUMvQixNQUFNd0IsTUFBTSxNQUFNRCxNQUFNRSxNQUFNLENBQUNQO1FBQy9CLElBQUksQ0FBQ00sS0FBSztZQUNSLE9BQU96QixrRkFBWUEsQ0FBQ3FCLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFnQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDckU7UUFFQSxNQUFNSSxRQUFRLE1BQU1GLElBQUlHLFFBQVE7UUFDaEMsTUFBTUMsY0FBY0osSUFBSXBCLFFBQVE7UUFDaEMsTUFBTUEsV0FBV0QsV0FBV3lCO1FBQzVCLE1BQU1qQixjQUFjRCxtQkFBbUJrQjtRQUN2QyxNQUFNQyxTQUFTTCxJQUFJTSxXQUFXO1FBQzlCLE1BQU1DLGVBQWVQLElBQUlPLFlBQVk7UUFDckMsTUFBTVYsUUFBUSxJQUFhVyxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUlEO1FBQzlDLE1BQU1FLGVBQWVULElBQUlVLElBQUksRUFBRWI7UUFFL0IsT0FBT3RCLGtGQUFZQSxDQUFDcUIsSUFBSSxDQUFDO1lBQ3ZCRjtZQUNBUTtZQUNBdEI7WUFDQStCLFVBQVVYLElBQUlZLFlBQVk7WUFDMUJQO1lBQ0FsQjtZQUNBVSxPQUFPWSxnQkFBaUJaLENBQUFBLFFBQVE7Z0JBQUVnQixTQUFTQyxPQUFPakI7WUFBTyxJQUFJWixTQUFRO1FBQ3ZFO0lBQ0YsRUFBRSxPQUFPOEIsS0FBSztRQUNaQyxRQUFRbkIsS0FBSyxDQUFDLDRCQUE0QmtCO1FBQzFDLE9BQU94QyxrRkFBWUEsQ0FBQ3FCLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTZCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ2xGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbmx5ZmFucy1wbGF0Zm9ybS8uL3NyYy9hcHAvYXBpL3NhZHRhbGtlci9zdGF0dXMvcm91dGUudHM/MzQzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbmltcG9ydCB7IGdldFNhZFRhbGtlclF1ZXVlIH0gZnJvbSBcIi4uL19saWIvcXVldWVcIjtcbmltcG9ydCB0eXBlIHsgU2FkVGFsa2VySm9iUmVzdWx0LCBTYWRUYWxrZXJKb2JFcnJvciB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9IFwibm9kZWpzXCI7XG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2UtZHluYW1pY1wiO1xuXG5mdW5jdGlvbiB0b1Byb2dyZXNzKHByb2dyZXNzOiB1bmtub3duKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHR5cGVvZiBwcm9ncmVzcyA9PT0gXCJudW1iZXJcIikgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgcHJvZ3Jlc3MpKTtcbiAgaWYgKHByb2dyZXNzICYmIHR5cGVvZiBwcm9ncmVzcyA9PT0gXCJvYmplY3RcIiAmJiBcInZhbHVlXCIgaW4gcHJvZ3Jlc3MpIHtcbiAgICBjb25zdCB2YWx1ZSA9IChwcm9ncmVzcyBhcyB7IHZhbHVlPzogdW5rbm93biB9KS52YWx1ZTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCB2YWx1ZSkpO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RSZW1vdGVTdGF0ZShwcm9ncmVzczogdW5rbm93bik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIGlmIChwcm9ncmVzcyAmJiB0eXBlb2YgcHJvZ3Jlc3MgPT09IFwib2JqZWN0XCIgJiYgXCJyZW1vdGVTdGF0ZVwiIGluIHByb2dyZXNzKSB7XG4gICAgY29uc3QgcmVtb3RlU3RhdGUgPSAocHJvZ3Jlc3MgYXMgeyByZW1vdGVTdGF0ZT86IHVua25vd24gfSkucmVtb3RlU3RhdGU7XG4gICAgaWYgKHR5cGVvZiByZW1vdGVTdGF0ZSA9PT0gXCJzdHJpbmdcIiAmJiByZW1vdGVTdGF0ZS50cmltKCkpIHtcbiAgICAgIHJldHVybiByZW1vdGVTdGF0ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VhcmNoID0gcmVxLm5leHRVcmwuc2VhcmNoUGFyYW1zO1xuICAgIGNvbnN0IGpvYklkID0gc2VhcmNoLmdldChcImlkXCIpO1xuICAgIGlmICgham9iSWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIk1pc3NpbmcgaWQgcGFyYW1ldGVyXCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBxdWV1ZSA9IGdldFNhZFRhbGtlclF1ZXVlKCk7XG4gICAgY29uc3Qgam9iID0gYXdhaXQgcXVldWUuZ2V0Sm9iKGpvYklkKTtcbiAgICBpZiAoIWpvYikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiSm9iIG5vdCBmb3VuZFwiIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBqb2IuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCByYXdQcm9ncmVzcyA9IGpvYi5wcm9ncmVzcztcbiAgICBjb25zdCBwcm9ncmVzcyA9IHRvUHJvZ3Jlc3MocmF3UHJvZ3Jlc3MpO1xuICAgIGNvbnN0IHJlbW90ZVN0YXRlID0gZXh0cmFjdFJlbW90ZVN0YXRlKHJhd1Byb2dyZXNzKTtcbiAgICBjb25zdCByZXN1bHQgPSBqb2IucmV0dXJudmFsdWUgYXMgU2FkVGFsa2VySm9iUmVzdWx0IHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IGZhaWxlZFJlYXNvbiA9IGpvYi5mYWlsZWRSZWFzb247XG4gICAgY29uc3QgZXJyb3IgPSAoam9iIGFzIGFueSkuc3RhY2t0cmFjZT8uWzBdIHx8IGZhaWxlZFJlYXNvbjtcbiAgICBjb25zdCBlcnJvclBheWxvYWQgPSBqb2IuZGF0YT8uZXJyb3IgYXMgU2FkVGFsa2VySm9iRXJyb3IgfCB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgam9iSWQsXG4gICAgICBzdGF0ZSxcbiAgICAgIHByb2dyZXNzLFxuICAgICAgYXR0ZW1wdHM6IGpvYi5hdHRlbXB0c01hZGUsXG4gICAgICByZXN1bHQsXG4gICAgICByZW1vdGVTdGF0ZSxcbiAgICAgIGVycm9yOiBlcnJvclBheWxvYWQgfHwgKGVycm9yID8geyBtZXNzYWdlOiBTdHJpbmcoZXJyb3IpIH0gOiB1bmRlZmluZWQpLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW3NhZHRhbGtlcjpzdGF0dXNdIGVycm9yXCIsIGVycik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIGpvYiBzdGF0dXNcIiB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0U2FkVGFsa2VyUXVldWUiLCJydW50aW1lIiwiZHluYW1pYyIsInRvUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsIk1hdGgiLCJtYXgiLCJtaW4iLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImV4dHJhY3RSZW1vdGVTdGF0ZSIsInJlbW90ZVN0YXRlIiwidHJpbSIsIkdFVCIsInJlcSIsInNlYXJjaCIsIm5leHRVcmwiLCJzZWFyY2hQYXJhbXMiLCJqb2JJZCIsImdldCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInF1ZXVlIiwiam9iIiwiZ2V0Sm9iIiwic3RhdGUiLCJnZXRTdGF0ZSIsInJhd1Byb2dyZXNzIiwicmVzdWx0IiwicmV0dXJudmFsdWUiLCJmYWlsZWRSZWFzb24iLCJzdGFja3RyYWNlIiwiZXJyb3JQYXlsb2FkIiwiZGF0YSIsImF0dGVtcHRzIiwiYXR0ZW1wdHNNYWRlIiwibWVzc2FnZSIsIlN0cmluZyIsImVyciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/sadtalker/status/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ioredis","vendor-chunks/@ioredis","vendor-chunks/debug","vendor-chunks/lodash.defaults","vendor-chunks/redis-parser","vendor-chunks/denque","vendor-chunks/cluster-key-slot","vendor-chunks/lodash.isarguments","vendor-chunks/redis-errors","vendor-chunks/supports-color","vendor-chunks/ms","vendor-chunks/standard-as-callback","vendor-chunks/has-flag","vendor-chunks/bullmq","vendor-chunks/semver","vendor-chunks/uuid","vendor-chunks/cron-parser","vendor-chunks/detect-libc","vendor-chunks/node-gyp-build-optional-packages","vendor-chunks/tslib","vendor-chunks/msgpackr","vendor-chunks/node-abort-controller","vendor-chunks/msgpackr-extract","vendor-chunks/luxon"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsadtalker%2Fstatus%2Froute&page=%2Fapi%2Fsadtalker%2Fstatus%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsadtalker%2Fstatus%2Froute.ts&appDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Ftheodorosiakovou%2FProjects%2Fai-platform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();