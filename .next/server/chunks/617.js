"use strict";exports.id=617,exports.ids=[617],exports.modules={40617:(e,t,r)=>{r.d(t,{Z:()=>Insights});var a=r(30784),l=r(9885);let clipboard=({text:e,label:t="Copy",copiedLabel:r="✓ Copied",className:i="",onCopied:s})=>{let{copied:o,copy:n}=function(e=2e3){let[t,r]=(0,l.useState)(!1),copy=async t=>{if(t)try{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),e)}catch(e){console.error("Failed to copy: ",e)}};return{copied:t,copy}}(),handleClick=async()=>{await n(e),s?.()};return a.jsx("button",{type:"button",onClick:handleClick,className:`px-3 py-1.5 rounded-lg text-white text-sm ${i}`,"aria-live":"polite",children:o?r:t})};var i=r(24206),s=r(39563),o=r(51217);let Pill=({children:e})=>a.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-gray-800 text-gray-200 border border-gray-700",children:e}),displayPlatform=e=>"Twitter"===e?"X":e,n={X:a.jsx(o.LCd,{className:"w-5 h-5"}),Twitter:a.jsx(o.LCd,{className:"w-5 h-5"}),Reddit:a.jsx(s.ViA,{className:"w-5 h-5"}),Instagram:a.jsx(s.Zf_,{className:"w-5 h-5"}),TikTok:a.jsx(s.nTm,{className:"w-5 h-5"})},d={X:"from-zinc-700/80 to-zinc-500/80",Twitter:"from-[#1D9BF0]/60 to-[#1D9BF0]/30",Reddit:"from-[#FF4500]/70 to-[#FF8717]/60",Instagram:"from-[#F58529]/70 to-[#DD2A7B]/70",TikTok:"from-[#25F4EE]/70 to-[#FE2C55]/70"},c={X:"from-black to-zinc-900",Twitter:"from-[#1D9BF0] to-[#1D9BF0]",Reddit:"from-[#FF4500] to-[#FF8717]",Instagram:"from-[#F58529] via-[#DD2A7B] to-[#8134AF]",TikTok:"from-[#25F4EE] to-[#FE2C55]"};function PlatformCard({rec:e}){let t=e.bestTimesLocal?.[0]||"—",r=function(e){let t=(e.caption||"").trim(),r=e.link?.url||"",a=(e.hashtags||[]).join(" ");if("Instagram"===e.platform||"TikTok"===e.platform)return{primary:{kind:"copy",label:"Copy caption",text:t},secondary:r?{kind:"copy",label:"Copy bio link",text:r}:void 0};if("Twitter"===e.platform||"X"===e.platform){let e=new URL("https://twitter.com/intent/tweet");return t&&e.searchParams.set("text",t),r&&e.searchParams.set("url",r),{primary:{kind:"link",label:"Open X compose",href:e.toString()},secondary:a?{kind:"copy",label:"Copy hashtags",text:a}:void 0}}return"Reddit"===e.platform?{primary:{kind:"copy",label:"Copy title/caption",text:t},secondary:{kind:"link",label:"Open Reddit",href:"https://www.reddit.com/submit"}}:{primary:{kind:"copy",label:"Copy caption",text:t},secondary:r?{kind:"copy",label:"Copy link",text:r}:void 0}}(e),s=displayPlatform(e.platform),o=n[e.platform]??n[s],m=d[e.platform]||d[s]||"from-purple-500/70 to-indigo-500/70",x=c[e.platform]||c[s]||"from-purple-500 to-indigo-500",p=(0,l.useRef)(null),[h,u]=(0,l.useState)(!1);async function toggleTTS(){try{if(h){p.current?.pause(),p.current=null,u(!1);return}if(!e.caption)return;let t=await (0,i.TD)(e.caption),r=new Audio(t);p.current=r,r.onended=()=>u(!1),r.onerror=()=>u(!1),u(!0),await r.play().catch(()=>u(!1))}catch{u(!1)}}return(0,l.useEffect)(()=>()=>{p.current&&(p.current.pause(),p.current=null)},[]),a.jsx("div",{className:`rounded-2xl p-[1.5px] bg-gradient-to-br ${m} shadow-[0_0_0_1px_rgba(255,255,255,0.04)] h-full`,children:(0,a.jsxs)("div",{className:"rounded-2xl bg-[#0A0F1E]/90 px-5 py-5 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`inline-flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br ${x} text-white`,children:o}),a.jsx("div",{className:"text-xl font-semibold text-white tracking-tight",children:s})]}),(0,a.jsxs)("span",{className:"px-2.5 py-1 rounded-full text-[10px] font-medium bg-white/5 border border-white/10 text-white/80",children:["Best: ",t]})]}),e.caption?a.jsx("div",{className:"mt-3 flex-1 w-full text-[15px] leading-relaxed text-gray-100 whitespace-pre-wrap break-words",children:e.caption}):a.jsx("div",{className:"mt-3 flex-1 w-full text-[15px] leading-relaxed text-gray-400 italic",children:"No caption (fast mode)"}),(0,a.jsxs)("div",{className:"mt-4 flex items-center gap-3",children:["link"===r.primary.kind?a.jsx("a",{className:"w-full sm:w-auto inline-flex items-center justify-center rounded-xl px-4 py-2 bg-gradient-to-b from-indigo-500 to-blue-600 text-white font-semibold shadow-[0_8px_24px_rgba(56,97,251,0.35)] hover:brightness-110 transition",href:r.primary.href,target:"_blank",rel:"noreferrer",children:r.primary.label}):a.jsx(clipboard,{label:r.primary.label,text:r.primary.text,className:"w-full sm:w-auto rounded-xl px-4 py-2 bg-gradient-to-b from-indigo-500 to-blue-600 hover:brightness-110 text-white font-semibold shadow-[0_8px_24px_rgba(56,97,251,0.35)]"}),e.caption&&a.jsx("button",{type:"button",onClick:toggleTTS,className:"inline-flex items-center justify-center rounded-xl px-3 py-2 border border-gray-600 text-gray-200 hover:text-white hover:bg-white/5",children:h?"Stop":"Generate voice-over"})]})]})})}function Insights({result:e}){let t=(0,l.useMemo)(()=>e?.promotion?.recommendedPlatforms||[],[e?.promotion?.recommendedPlatforms]),[r,i]=(0,l.useState)(!1),s=(0,l.useMemo)(()=>{if(!t.length)return null;let e=t[0],r=t[1];return{line1:`Post on ${e.platform} at ${e.bestTimesLocal?.[0]||"—"}.`,line2:r?`Backup: ${r.platform} at ${r.bestTimesLocal?.[0]||"—"}.`:""}},[t]),o=(0,l.useMemo)(()=>{let t=[];e.niche&&t.push(`Niche: ${e.niche}`),"number"==typeof e.csl&&t.push(`CSL: ${e.csl}/3`),e.hasFace&&t.push("Face detected");let r=e?.meta?.timezone;return r&&t.push(`TZ: ${r}`),t},[e]);return(0,a.jsxs)("div",{className:"w-full space-y-6",children:[(0,a.jsxs)("div",{className:"text-center max-w-3xl mx-auto",children:[a.jsx("h3",{className:"text-4xl md:text-5xl font-extrabold tracking-tight bg-gradient-to-b from-purple-200 via-purple-300 to-indigo-300 bg-clip-text text-transparent drop-shadow-[0_6px_24px_rgba(124,58,237,0.35)]",children:"Your AI Insights"}),s&&(0,a.jsxs)("div",{className:"mt-3 leading-snug",children:[a.jsx("p",{className:"text-base md:text-lg text-gray-200/90",children:s.line1}),s.line2?a.jsx("p",{className:"text-base md:text-lg text-gray-200/70",children:s.line2}):null]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map((e,t)=>a.jsx(PlatformCard,{rec:e},`${e.platform}-${t}`))}),e?.promotion?.ctaVariants?.length?(0,a.jsxs)("div",{className:"rounded-xl border border-gray-700 bg-gray-900 p-4",children:[a.jsx("div",{className:"text-sm font-semibold mb-2 text-white",children:"CTA Ideas"}),a.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-300 space-y-1",children:e.promotion.ctaVariants.map((e,t)=>a.jsx("li",{children:e},t))})]}):null,a.jsx("div",{className:"pt-1",children:a.jsx("button",{onClick:()=>i(e=>!e),className:"text-xs text-gray-400 underline hover:text-gray-200",children:r?"Hide advanced details":"Show advanced details"})}),r&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("div",{className:"rounded-xl border border-gray-700 bg-gray-900 p-4 space-y-2",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:o.map((e,t)=>a.jsx(Pill,{children:e},t))})}),(0,a.jsxs)("div",{className:"rounded-xl border border-gray-700 bg-gray-900 p-4",children:[a.jsx("div",{className:"text-sm font-semibold mb-2 text-white",children:"Safety Notes"}),e.promotion?.riskFlags?.length?a.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-300 space-y-1",children:e.promotion.riskFlags.map((e,t)=>a.jsx("li",{children:e},t))}):a.jsx("div",{className:"text-sm text-gray-400",children:"—"})]})]})]})}}};