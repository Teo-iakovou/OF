"use strict";exports.id=4619,exports.ids=[4619],exports.modules={78937:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(12125);let r=(0,s.Z)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},94619:(e,t,a)=>{a.r(t),a.d(t,{default:()=>CoachChatHistory});var s=a(30784),r=a(9885),l=a(24206),n=a(78937),i=a(97151),c=a(12091);function CoachChatHistory({onSelect:e,selectedId:t,refreshKey:a,showHeader:o=!1,onNew:d,className:x,maxHeight:h=420}){let[y,m]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{p(!0),(0,l.ku)().then(e=>{e.length,e.map(e=>e.title).slice(0,5),m(e)}).catch(e=>{var t,a;return t=0,void(a=0)}).finally(()=>p(!1))},[a]),(0,s.jsxs)("div",{className:["w-full bg-[#0f1520] border border-[#232B36] rounded-2xl shadow-2xl overflow-hidden",x||""].join(" "),style:{maxHeight:h},children:[o&&(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 pt-3 pb-2 border-b border-[#232B36] bg-[#121A24]",children:[(0,s.jsxs)("span",{className:"font-semibold text-gray-200 text-sm inline-flex items-center gap-2",children:[s.jsx(n.Z,{className:"w-4 h-4 text-cyan-400"}),"AI Chat History"]}),!!d&&s.jsx("button",{onClick:d,className:"px-2 py-1 text-xs rounded text-white bg-cyan-600 hover:bg-cyan-700 transition",children:"+ New"})]}),s.jsx("div",{className:"p-3 md:p-4 space-y-2 overflow-y-auto",style:{maxHeight:"number"==typeof h?h:void 0},children:u?(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c.O,{className:"h-10 w-full"}),s.jsx(c.O,{className:"h-10 w-full"}),s.jsx(c.O,{className:"h-10 w-full"}),s.jsx(c.O,{className:"h-10 w-3/4"})]}):0===y.length?s.jsx("div",{className:"text-xs text-gray-400",children:"No conversations yet."}):y.map(a=>{let r=t===a._id;return(0,s.jsxs)("button",{onClick:()=>e(a._id),className:["w-full text-left px-3 py-2 rounded-xl transition border",r?"bg-cyan-600/15 border-cyan-600/40 text-cyan-100 ring-1 ring-cyan-500/30":"bg-[#141a26]/70 hover:bg-[#17202d] border-[#232B36] text-gray-200"].join(" "),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(n.Z,{className:`w-4 h-4 ${r?"text-cyan-400":"text-gray-400"}`}),s.jsx("span",{className:"font-medium truncate",children:a.title||"Untitled"}),s.jsx("span",{className:"ml-auto",children:s.jsx("button",{type:"button",onClick:async e=>{e.stopPropagation();try{let e=await (0,l.TD)(a.title||"Conversation"),t=new Audio(e);t.play()}catch{}},className:"inline-flex items-center text-xs text-gray-300 hover:text-white","aria-label":"Play title",children:s.jsx(i.Z,{className:"w-4 h-4"})})})]}),s.jsx("div",{className:"mt-1 text-[11px] text-gray-400",children:function(e){if(!e)return"";try{let t=new Date(e);return t.toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return""}}(a.updatedAt)})]},a._id)})})]})}}};