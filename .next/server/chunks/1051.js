"use strict";exports.id=1051,exports.ids=[1051],exports.modules={41051:(e,r,t)=>{t.r(r),t.d(r,{getRedis:()=>getRedis});var s=t(26277),n=t.n(s);let isRunPodEndpoint=e=>null!==e,toEndpoint=e=>{if(!e||"object"!=typeof e)return null;let r="string"==typeof e.url?e.url.trim():"",t="string"==typeof e.token?e.token.trim():"",s="string"==typeof e.apiKey&&e.apiKey.trim()?e.apiKey.trim():void 0;return r&&t?{url:r,token:t,apiKey:s}:null},i={redisUrl:function(e){let r=process.env[e];if(!r)throw Error(`[sadtalker-config] Missing required env var ${e}`);return r}("SADTALKER_REDIS_URL"),runPodEndpoints:function(e){if(!e)return[];try{let r=JSON.parse(e);if(Array.isArray(r))return r.map(toEndpoint).filter(isRunPodEndpoint)}catch(e){}return e.split(",").map(e=>e.trim()).filter(Boolean).map(e=>{let[r,t,s]=e.split("|").map(e=>e.trim());return toEndpoint({url:r,token:t,apiKey:s})}).filter(isRunPodEndpoint)}(process.env.SADTALKER_RUNPOD_ENDPOINTS),storageProvider:(process.env.SADTALKER_STORAGE_PROVIDER||"").toLowerCase()||void 0,r2Bucket:process.env.SADTALKER_R2_BUCKET,r2AccountId:process.env.SADTALKER_R2_ACCOUNT_ID,r2AccessKeyId:process.env.SADTALKER_R2_ACCESS_KEY_ID,r2SecretAccessKey:process.env.SADTALKER_R2_SECRET_ACCESS_KEY,supabaseUrl:process.env.SUPABASE_URL,supabaseKey:process.env.SUPABASE_SERVICE_KEY,supabaseBucket:process.env.SUPABASE_BUCKET||"sadtalker"};function getRedis(){return global.__sadtalkerRedisClient||(global.__sadtalkerRedisClient=new(n())(i.redisUrl,{maxRetriesPerRequest:null,enableReadyCheck:!0})),global.__sadtalkerRedisClient}}};